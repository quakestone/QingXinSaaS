{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\Process\\panel\\multiInstance.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\Process\\panel\\multiInstance.vue","mtime":1733705220398},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\babel.config.js","mtime":1733705220203},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9jaGVueGkvRGVza3RvcC9wcm8vUWluZ1hpblNhYVMvcWluZ3hpbnNhYXMtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIik7CnZhciBfb2JqZWN0U3ByZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvY2hlbnhpL0Rlc2t0b3AvcHJvL1FpbmdYaW5TYWFTL3Fpbmd4aW5zYWFzLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CnZhciBfU3RyVXRpbCA9IHJlcXVpcmUoIkAvdXRpbHMvU3RyVXRpbCIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgbmFtZTogIk11bHRpSW5zdGFuY2UiLAogIC8qKiDnu4Tku7bkvKDlgLwgICovCiAgcHJvcHM6IHsKICAgIGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgbG9vcENoYXJhY3RlcmlzdGljczogIiIsCiAgICAgIGxvb3BJbnN0YW5jZUZvcm06IHt9LAogICAgICBtdWx0aUxvb3BJbnN0YW5jZToge30sCiAgICAgIGRlZmF1bHRMb29wSW5zdGFuY2VGb3JtOiB7CiAgICAgICAgY29tcGxldGlvbkNvbmRpdGlvbjogIiIsCiAgICAgICAgbG9vcENhcmRpbmFsaXR5OiAiIiwKICAgICAgICBleHRlbnNpb25FbGVtZW50czogW10sCiAgICAgICAgYXN5bmNBZnRlcjogZmFsc2UsCiAgICAgICAgYXN5bmNCZWZvcmU6IGZhbHNlLAogICAgICAgIGV4Y2x1c2l2ZTogZmFsc2UKICAgICAgfQogICAgfTsKICB9LAogIC8qKiDkvKDlgLznm5HlkKwgKi8KICB3YXRjaDogewogICAgaWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWwpIHsKICAgICAgICBpZiAoX1N0clV0aWwuU3RyVXRpbC5pc05vdEJsYW5rKG5ld1ZhbCkpIHsKICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudExvb3AodGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudC5idXNpbmVzc09iamVjdCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUgLy8g56uL5Y2z55Sf5pWICiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgLy8g5pa55rOV5Yy6CiAgICBnZXRFbGVtZW50TG9vcDogZnVuY3Rpb24gZ2V0RWxlbWVudExvb3AoYnVzaW5lc3NPYmplY3QpIHsKICAgICAgdmFyIF9idXNpbmVzc09iamVjdCRsb29wQywgX2J1c2luZXNzT2JqZWN0JGxvb3BDMiwgX2J1c2luZXNzT2JqZWN0JGxvb3BDMywgX2J1c2luZXNzT2JqZWN0JGxvb3BDNDsKICAgICAgaWYgKCFidXNpbmVzc09iamVjdC5sb29wQ2hhcmFjdGVyaXN0aWNzKSB7CiAgICAgICAgdGhpcy5sb29wQ2hhcmFjdGVyaXN0aWNzID0gIk51bGwiOwogICAgICAgIHRoaXMubG9vcEluc3RhbmNlRm9ybSA9IHt9OwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoYnVzaW5lc3NPYmplY3QubG9vcENoYXJhY3RlcmlzdGljcy4kdHlwZSA9PT0gImJwbW46U3RhbmRhcmRMb29wQ2hhcmFjdGVyaXN0aWNzIikgewogICAgICAgIHRoaXMubG9vcENoYXJhY3RlcmlzdGljcyA9ICJTdGFuZGFyZExvb3AiOwogICAgICAgIHRoaXMubG9vcEluc3RhbmNlRm9ybSA9IHt9OwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoYnVzaW5lc3NPYmplY3QubG9vcENoYXJhY3RlcmlzdGljcy5pc1NlcXVlbnRpYWwpIHsKICAgICAgICB0aGlzLmxvb3BDaGFyYWN0ZXJpc3RpY3MgPSAiU2VxdWVudGlhbE11bHRpSW5zdGFuY2UiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9vcENoYXJhY3RlcmlzdGljcyA9ICJQYXJhbGxlbE11bHRpSW5zdGFuY2UiOwogICAgICB9CiAgICAgIC8vIOWQiOW5tumFjee9rgogICAgICB0aGlzLmxvb3BJbnN0YW5jZUZvcm0gPSAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgdGhpcy5kZWZhdWx0TG9vcEluc3RhbmNlRm9ybSksIGJ1c2luZXNzT2JqZWN0Lmxvb3BDaGFyYWN0ZXJpc3RpY3MpLCB7fSwgewogICAgICAgIGNvbXBsZXRpb25Db25kaXRpb246IChfYnVzaW5lc3NPYmplY3QkbG9vcEMgPSAoX2J1c2luZXNzT2JqZWN0JGxvb3BDMiA9IGJ1c2luZXNzT2JqZWN0Lmxvb3BDaGFyYWN0ZXJpc3RpY3MpID09PSBudWxsIHx8IF9idXNpbmVzc09iamVjdCRsb29wQzIgPT09IHZvaWQgMCB8fCAoX2J1c2luZXNzT2JqZWN0JGxvb3BDMiA9IF9idXNpbmVzc09iamVjdCRsb29wQzIuY29tcGxldGlvbkNvbmRpdGlvbikgPT09IG51bGwgfHwgX2J1c2luZXNzT2JqZWN0JGxvb3BDMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2J1c2luZXNzT2JqZWN0JGxvb3BDMi5ib2R5KSAhPT0gbnVsbCAmJiBfYnVzaW5lc3NPYmplY3QkbG9vcEMgIT09IHZvaWQgMCA/IF9idXNpbmVzc09iamVjdCRsb29wQyA6ICIiLAogICAgICAgIGxvb3BDYXJkaW5hbGl0eTogKF9idXNpbmVzc09iamVjdCRsb29wQzMgPSAoX2J1c2luZXNzT2JqZWN0JGxvb3BDNCA9IGJ1c2luZXNzT2JqZWN0Lmxvb3BDaGFyYWN0ZXJpc3RpY3MpID09PSBudWxsIHx8IF9idXNpbmVzc09iamVjdCRsb29wQzQgPT09IHZvaWQgMCB8fCAoX2J1c2luZXNzT2JqZWN0JGxvb3BDNCA9IF9idXNpbmVzc09iamVjdCRsb29wQzQubG9vcENhcmRpbmFsaXR5KSA9PT0gbnVsbCB8fCBfYnVzaW5lc3NPYmplY3QkbG9vcEM0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYnVzaW5lc3NPYmplY3QkbG9vcEM0LmJvZHkpICE9PSBudWxsICYmIF9idXNpbmVzc09iamVjdCRsb29wQzMgIT09IHZvaWQgMCA/IF9idXNpbmVzc09iamVjdCRsb29wQzMgOiAiIgogICAgICB9KTsKICAgICAgLy8g5L+d55WZ5b2T5YmN5YWD57SgIGJ1c2luZXNzT2JqZWN0IOS4iueahCBsb29wQ2hhcmFjdGVyaXN0aWNzIOWunuS+iwogICAgICB0aGlzLm11bHRpTG9vcEluc3RhbmNlID0gdGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudC5idXNpbmVzc09iamVjdC5sb29wQ2hhcmFjdGVyaXN0aWNzOwogICAgICAvLyDmm7TmlrDooajljZUKICAgICAgaWYgKGJ1c2luZXNzT2JqZWN0Lmxvb3BDaGFyYWN0ZXJpc3RpY3MuZXh0ZW5zaW9uRWxlbWVudHMgJiYgYnVzaW5lc3NPYmplY3QubG9vcENoYXJhY3RlcmlzdGljcy5leHRlbnNpb25FbGVtZW50cy52YWx1ZXMgJiYgYnVzaW5lc3NPYmplY3QubG9vcENoYXJhY3RlcmlzdGljcy5leHRlbnNpb25FbGVtZW50cy52YWx1ZXMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMubG9vcEluc3RhbmNlRm9ybSwgInRpbWVDeWNsZSIsIGJ1c2luZXNzT2JqZWN0Lmxvb3BDaGFyYWN0ZXJpc3RpY3MuZXh0ZW5zaW9uRWxlbWVudHMudmFsdWVzWzBdLmJvZHkpOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlTG9vcENoYXJhY3RlcmlzdGljc1R5cGU6IGZ1bmN0aW9uIGNoYW5nZUxvb3BDaGFyYWN0ZXJpc3RpY3NUeXBlKHR5cGUpIHsKICAgICAgLy8g5YiH5o2i57G75Z6L5Y+W5raI5Y6f6KGo5Y2V6YWN572uCiAgICAgIHRoaXMubG9vcEluc3RhbmNlRm9ybSA9ICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgdGhpcy5kZWZhdWx0TG9vcEluc3RhbmNlRm9ybSk7CiAgICAgIC8vIOWPlua2iOWkmuWunuS+i+mFjee9rgogICAgICBpZiAodHlwZSA9PT0gIk51bGwiKSB7CiAgICAgICAgdGhpcy5tb2RlbGVyU3RvcmUubW9kZWxpbmcudXBkYXRlUHJvcGVydGllcyh0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LCB7CiAgICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzOiBudWxsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOmFjee9ruW+queOrwogICAgICBpZiAodHlwZSA9PT0gIlN0YW5kYXJkTG9vcCIpIHsKICAgICAgICB2YXIgbG9vcENoYXJhY3RlcmlzdGljc09iamVjdCA9IHRoaXMubW9kZWxlclN0b3JlLm1vZGRsZS5jcmVhdGUoImJwbW46U3RhbmRhcmRMb29wQ2hhcmFjdGVyaXN0aWNzIik7CiAgICAgICAgdGhpcy5tb2RlbGVyU3RvcmUubW9kZWxpbmcudXBkYXRlUHJvcGVydGllcyh0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LCB7CiAgICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzOiBsb29wQ2hhcmFjdGVyaXN0aWNzT2JqZWN0CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSA9IG51bGw7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOaXtuW6jwogICAgICBpZiAodHlwZSA9PT0gIlNlcXVlbnRpYWxNdWx0aUluc3RhbmNlIikgewogICAgICAgIHRoaXMubXVsdGlMb29wSW5zdGFuY2UgPSB0aGlzLm1vZGVsZXJTdG9yZS5tb2RkbGUuY3JlYXRlKCJicG1uOk11bHRpSW5zdGFuY2VMb29wQ2hhcmFjdGVyaXN0aWNzIiwgewogICAgICAgICAgaXNTZXF1ZW50aWFsOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSA9IHRoaXMubW9kZWxlclN0b3JlLm1vZGRsZS5jcmVhdGUoImJwbW46TXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3MiKTsKICAgICAgfQogICAgICB0aGlzLm1vZGVsZXJTdG9yZS5tb2RlbGluZy51cGRhdGVQcm9wZXJ0aWVzKHRoaXMubW9kZWxlclN0b3JlLmVsZW1lbnQsIHsKICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzOiB0aGlzLm11bHRpTG9vcEluc3RhbmNlCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW+queOr+WfuuaVsAogICAgdXBkYXRlTG9vcENhcmRpbmFsaXR5OiBmdW5jdGlvbiB1cGRhdGVMb29wQ2FyZGluYWxpdHkoY2FyZGluYWxpdHkpIHsKICAgICAgdmFyIGxvb3BDYXJkaW5hbGl0eSA9IG51bGw7CiAgICAgIGlmIChjYXJkaW5hbGl0eSAmJiBjYXJkaW5hbGl0eS5sZW5ndGgpIHsKICAgICAgICBsb29wQ2FyZGluYWxpdHkgPSB0aGlzLm1vZGVsZXJTdG9yZS5tb2RkbGUuY3JlYXRlKCJicG1uOkZvcm1hbEV4cHJlc3Npb24iLCB7CiAgICAgICAgICBib2R5OiBjYXJkaW5hbGl0eQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMubW9kZWxlclN0b3JlLm1vZGVsaW5nLnVwZGF0ZU1vZGRsZVByb3BlcnRpZXModGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudCwgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSwgewogICAgICAgIGxvb3BDYXJkaW5hbGl0eTogbG9vcENhcmRpbmFsaXR5CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWujOaIkOadoeS7tgogICAgdXBkYXRlTG9vcENvbmRpdGlvbjogZnVuY3Rpb24gdXBkYXRlTG9vcENvbmRpdGlvbihjb25kaXRpb24pIHsKICAgICAgdmFyIGNvbXBsZXRpb25Db25kaXRpb24gPSBudWxsOwogICAgICBpZiAoY29uZGl0aW9uICYmIGNvbmRpdGlvbi5sZW5ndGgpIHsKICAgICAgICBjb21wbGV0aW9uQ29uZGl0aW9uID0gdGhpcy5tb2RlbGVyU3RvcmUubW9kZGxlLmNyZWF0ZSgiYnBtbjpGb3JtYWxFeHByZXNzaW9uIiwgewogICAgICAgICAgYm9keTogY29uZGl0aW9uCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy5tb2RlbGVyU3RvcmUubW9kZWxpbmcudXBkYXRlTW9kZGxlUHJvcGVydGllcyh0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LCB0aGlzLm11bHRpTG9vcEluc3RhbmNlLCB7CiAgICAgICAgY29tcGxldGlvbkNvbmRpdGlvbjogY29tcGxldGlvbkNvbmRpdGlvbgogICAgICB9KTsKICAgIH0sCiAgICAvLyDph43or5XlkajmnJ8KICAgIHVwZGF0ZUxvb3BUaW1lQ3ljbGU6IGZ1bmN0aW9uIHVwZGF0ZUxvb3BUaW1lQ3ljbGUodGltZUN5Y2xlKSB7CiAgICAgIHZhciBleHRlbnNpb25FbGVtZW50cyA9IHRoaXMubW9kZWxlclN0b3JlLm1vZGRsZS5jcmVhdGUoImJwbW46RXh0ZW5zaW9uRWxlbWVudHMiLCB7CiAgICAgICAgdmFsdWVzOiBbdGhpcy5tb2RlbGVyU3RvcmUubW9kZGxlLmNyZWF0ZSgiZmxvd2FibGU6RmFpbGVkSm9iUmV0cnlUaW1lQ3ljbGUiLCB7CiAgICAgICAgICBib2R5OiB0aW1lQ3ljbGUKICAgICAgICB9KV0KICAgICAgfSk7CiAgICAgIHRoaXMubW9kZWxlclN0b3JlLm1vZGVsaW5nLnVwZGF0ZU1vZGRsZVByb3BlcnRpZXModGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudCwgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSwgewogICAgICAgIGV4dGVuc2lvbkVsZW1lbnRzOiBleHRlbnNpb25FbGVtZW50cwogICAgICB9KTsKICAgIH0sCiAgICAvLyDnm7TmjqXmm7TmlrDnmoTln7rnoYDkv6Hmga8KICAgIHVwZGF0ZUxvb3BCYXNlOiBmdW5jdGlvbiB1cGRhdGVMb29wQmFzZSgpIHsKICAgICAgdGhpcy5tb2RlbGVyU3RvcmUubW9kZWxpbmcudXBkYXRlTW9kZGxlUHJvcGVydGllcyh0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LCB0aGlzLm11bHRpTG9vcEluc3RhbmNlLCB7CiAgICAgICAgY29sbGVjdGlvbjogdGhpcy5sb29wSW5zdGFuY2VGb3JtLmNvbGxlY3Rpb24gfHwgbnVsbCwKICAgICAgICBlbGVtZW50VmFyaWFibGU6IHRoaXMubG9vcEluc3RhbmNlRm9ybS5lbGVtZW50VmFyaWFibGUgfHwgbnVsbAogICAgICB9KTsKICAgIH0sCiAgICAvLyDlkITlvILmraXnirbmgIEKICAgIHVwZGF0ZUxvb3BBc3luYzogZnVuY3Rpb24gdXBkYXRlTG9vcEFzeW5jKGtleSkgewogICAgICB2YXIgX3RoaXMkbG9vcEluc3RhbmNlRm9yID0gdGhpcy5sb29wSW5zdGFuY2VGb3JtLAogICAgICAgIGFzeW5jQmVmb3JlID0gX3RoaXMkbG9vcEluc3RhbmNlRm9yLmFzeW5jQmVmb3JlLAogICAgICAgIGFzeW5jQWZ0ZXIgPSBfdGhpcyRsb29wSW5zdGFuY2VGb3IuYXN5bmNBZnRlcjsKICAgICAgdmFyIGFzeW5jQXR0ciA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgIGlmICghYXN5bmNCZWZvcmUgJiYgIWFzeW5jQWZ0ZXIpIHsKICAgICAgICB0aGlzLiRzZXQodGhpcy5sb29wSW5zdGFuY2VGb3JtLCAiZXhjbHVzaXZlIiwgZmFsc2UpOwogICAgICAgIGFzeW5jQXR0ciA9IHsKICAgICAgICAgIGFzeW5jQmVmb3JlOiBmYWxzZSwKICAgICAgICAgIGFzeW5jQWZ0ZXI6IGZhbHNlLAogICAgICAgICAgZXhjbHVzaXZlOiBmYWxzZSwKICAgICAgICAgIGV4dGVuc2lvbkVsZW1lbnRzOiBudWxsCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhc3luY0F0dHJba2V5XSA9IHRoaXMubG9vcEluc3RhbmNlRm9ybVtrZXldOwogICAgICB9CiAgICAgIHRoaXMubW9kZWxlclN0b3JlLm1vZGVsaW5nLnVwZGF0ZU1vZGRsZVByb3BlcnRpZXModGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudCwgdGhpcy5tdWx0aUxvb3BJbnN0YW5jZSwgYXN5bmNBdHRyKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["_StrUtil","require","name","props","id","type","String","required","data","dialogVisible","loopCharacteristics","loopInstanceForm","multiLoopInstance","defaultLoopInstanceForm","completionCondition","loopCardinality","extensionElements","asyncAfter","asyncBefore","exclusive","watch","handler","newVal","StrUtil","isNotBlank","getElementLoop","modelerStore","element","businessObject","immediate","created","methods","_businessObject$loopC","_businessObject$loopC2","_businessObject$loopC3","_businessObject$loopC4","$type","isSequential","_objectSpread2","default","body","values","length","$set","changeLoopCharacteristicsType","modeling","updateProperties","loopCharacteristicsObject","moddle","create","updateLoopCardinality","cardinality","updateModdleProperties","updateLoopCondition","condition","updateLoopTimeCycle","timeCycle","updateLoopBase","collection","elementVariable","updateLoopAsync","key","_this$loopInstanceFor","asyncAttr","Object"],"sources":["src/components/Process/panel/multiInstance.vue"],"sourcesContent":["<template>\r\n  <div class=\"panel-tab__content\">\r\n    <el-form label-width=\"70px\" @submit.native.prevent size=\"small\">\r\n      <el-form-item label=\"参数说明\">\r\n        <el-button size=\"small\" type=\"primary\" @click=\"dialogVisible = true\">查看</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"回路特性\">\r\n        <el-select v-model=\"loopCharacteristics\" @change=\"changeLoopCharacteristicsType\">\r\n          <!--bpmn:MultiInstanceLoopCharacteristics-->\r\n          <el-option label=\"并行多重事件\" value=\"ParallelMultiInstance\" />\r\n          <el-option label=\"时序多重事件\" value=\"SequentialMultiInstance\" />\r\n          <!--bpmn:StandardLoopCharacteristics-->\r\n          <el-option label=\"循环事件\" value=\"StandardLoop\" />\r\n          <el-option label=\"无\" value=\"Null\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <template v-if=\"loopCharacteristics === 'ParallelMultiInstance' || loopCharacteristics === 'SequentialMultiInstance'\">\r\n        <el-form-item label=\"循环基数\" key=\"loopCardinality\">\r\n          <el-input v-model=\"loopInstanceForm.loopCardinality\" clearable @change=\"updateLoopCardinality\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"集合\" key=\"collection\">\r\n          <el-input v-model=\"loopInstanceForm.collection\" clearable @change=\"updateLoopBase\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"元素变量\" key=\"elementVariable\">\r\n          <el-input v-model=\"loopInstanceForm.elementVariable\" clearable @change=\"updateLoopBase\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"完成条件\" key=\"completionCondition\">\r\n          <el-input v-model=\"loopInstanceForm.completionCondition\" clearable @change=\"updateLoopCondition\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"异步状态\" key=\"async\">\r\n          <el-checkbox v-model=\"loopInstanceForm.asyncBefore\" label=\"异步前\" @change=\"updateLoopAsync('asyncBefore')\" />\r\n          <el-checkbox v-model=\"loopInstanceForm.asyncAfter\" label=\"异步后\" @change=\"updateLoopAsync('asyncAfter')\" />\r\n          <el-checkbox\r\n              v-model=\"loopInstanceForm.exclusive\"\r\n              v-if=\"loopInstanceForm.asyncAfter || loopInstanceForm.asyncBefore\"\r\n              label=\"排除\"\r\n              @change=\"updateLoopAsync('exclusive')\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"重试周期\" prop=\"timeCycle\" v-if=\"loopInstanceForm.asyncAfter || loopInstanceForm.asyncBefore\" key=\"timeCycle\">\r\n          <el-input v-model=\"loopInstanceForm.timeCycle\" clearable @change=\"updateLoopTimeCycle\" />\r\n        </el-form-item>\r\n      </template>\r\n    </el-form>\r\n\r\n  <!-- 参数说明 -->\r\n  <el-dialog title=\"多实例参数\" :visible.sync=\"dialogVisible\" width=\"680px\" @closed=\"$emit('close')\">\r\n    <el-descriptions :column=\"1\" border>\r\n      <el-descriptions-item label=\"使用说明\">按照BPMN2.0规范的要求，用于为每个实例创建执行的父执行，会提供下列变量:</el-descriptions-item>\r\n      <el-descriptions-item label=\"collection(集合变量)\">传入List参数, 一般为用户ID集合</el-descriptions-item>\r\n      <el-descriptions-item label=\"elementVariable(元素变量)\">List中单个参数的名称</el-descriptions-item>\r\n      <el-descriptions-item label=\"loopCardinality(基数)\">List循环次数</el-descriptions-item>\r\n      <el-descriptions-item label=\"isSequential(串并行)\">Parallel: 并行多实例，Sequential: 串行多实例</el-descriptions-item>\r\n      <el-descriptions-item label=\"completionCondition(完成条件)\">任务出口条件</el-descriptions-item>\r\n      <el-descriptions-item label=\"nrOfInstances(实例总数)\">实例总数</el-descriptions-item>\r\n      <el-descriptions-item label=\"nrOfActiveInstances(未完成数)\">当前活动的（即未完成的），实例数量。对于顺序多实例，这个值总为1</el-descriptions-item>\r\n      <el-descriptions-item label=\"nrOfCompletedInstances(已完成数)\">已完成的实例数量</el-descriptions-item>\r\n      <el-descriptions-item label=\"loopCounter\">给定实例在for-each循环中的index</el-descriptions-item>\r\n    </el-descriptions>\r\n  </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {StrUtil} from '@/utils/StrUtil'\r\n\r\n\r\nexport default {\r\n  name: \"MultiInstance\",\r\n  /** 组件传值  */\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      loopCharacteristics: \"\",\r\n      loopInstanceForm: {},\r\n      multiLoopInstance: {},\r\n      defaultLoopInstanceForm: {\r\n        completionCondition: \"\",\r\n        loopCardinality: \"\",\r\n        extensionElements: [],\r\n        asyncAfter: false,\r\n        asyncBefore: false,\r\n        exclusive: false\r\n      },\r\n    }\r\n  },\r\n\r\n  /** 传值监听 */\r\n  watch: {\r\n    id: {\r\n      handler(newVal) {\r\n        if (StrUtil.isNotBlank(newVal)) {\r\n          this.getElementLoop(this.modelerStore.element.businessObject);        }\r\n      },\r\n      immediate: true, // 立即生效\r\n    },\r\n  },\r\n  created() {\r\n\r\n  },\r\n  methods: {\r\n    // 方法区\r\n    getElementLoop(businessObject) {\r\n      if (!businessObject.loopCharacteristics) {\r\n        this.loopCharacteristics = \"Null\";\r\n        this.loopInstanceForm = {};\r\n        return;\r\n      }\r\n      if (businessObject.loopCharacteristics.$type === \"bpmn:StandardLoopCharacteristics\") {\r\n        this.loopCharacteristics = \"StandardLoop\";\r\n        this.loopInstanceForm = {};\r\n        return;\r\n      }\r\n      if (businessObject.loopCharacteristics.isSequential) {\r\n        this.loopCharacteristics = \"SequentialMultiInstance\";\r\n      } else {\r\n        this.loopCharacteristics = \"ParallelMultiInstance\";\r\n      }\r\n      // 合并配置\r\n      this.loopInstanceForm = {\r\n        ...this.defaultLoopInstanceForm,\r\n        ...businessObject.loopCharacteristics,\r\n        completionCondition: businessObject.loopCharacteristics?.completionCondition?.body ?? \"\",\r\n        loopCardinality: businessObject.loopCharacteristics?.loopCardinality?.body ?? \"\"\r\n      };\r\n      // 保留当前元素 businessObject 上的 loopCharacteristics 实例\r\n      this.multiLoopInstance = this.modelerStore.element.businessObject.loopCharacteristics;\r\n      // 更新表单\r\n      if (\r\n        businessObject.loopCharacteristics.extensionElements &&\r\n        businessObject.loopCharacteristics.extensionElements.values &&\r\n        businessObject.loopCharacteristics.extensionElements.values.length\r\n      ) {\r\n        this.$set(this.loopInstanceForm, \"timeCycle\", businessObject.loopCharacteristics.extensionElements.values[0].body);\r\n      }\r\n    },\r\n\r\n    changeLoopCharacteristicsType(type) {\r\n      // 切换类型取消原表单配置\r\n      this.loopInstanceForm = {...this.defaultLoopInstanceForm};\r\n      // 取消多实例配置\r\n      if (type === \"Null\") {\r\n        this.modelerStore.modeling.updateProperties(this.modelerStore.element, {loopCharacteristics: null});\r\n        return;\r\n      }\r\n      // 配置循环\r\n      if (type === \"StandardLoop\") {\r\n        const loopCharacteristicsObject = this.modelerStore.moddle.create(\"bpmn:StandardLoopCharacteristics\");\r\n        this.modelerStore.modeling.updateProperties(this.modelerStore.element, {\r\n          loopCharacteristics: loopCharacteristicsObject\r\n        });\r\n        this.multiLoopInstance = null;\r\n        return;\r\n      }\r\n      // 时序\r\n      if (type === \"SequentialMultiInstance\") {\r\n        this.multiLoopInstance = this.modelerStore.moddle.create(\"bpmn:MultiInstanceLoopCharacteristics\", {\r\n          isSequential: true\r\n        });\r\n      } else {\r\n        this.multiLoopInstance = this.modelerStore.moddle.create(\"bpmn:MultiInstanceLoopCharacteristics\");\r\n      }\r\n      this.modelerStore.modeling.updateProperties(this.modelerStore.element, {\r\n        loopCharacteristics: this.multiLoopInstance\r\n      });\r\n    },\r\n\r\n    // 循环基数\r\n    updateLoopCardinality(cardinality) {\r\n      let loopCardinality = null;\r\n      if (cardinality && cardinality.length) {\r\n        loopCardinality = this.modelerStore.moddle.create(\"bpmn:FormalExpression\", {body: cardinality});\r\n      }\r\n      this.modelerStore.modeling.updateModdleProperties(this.modelerStore.element, this.multiLoopInstance, {\r\n        loopCardinality\r\n      });\r\n    },\r\n\r\n    // 完成条件\r\n    updateLoopCondition(condition) {\r\n      let completionCondition = null;\r\n      if (condition && condition.length) {\r\n        completionCondition = this.modelerStore.moddle.create(\"bpmn:FormalExpression\", {body: condition});\r\n      }\r\n      this.modelerStore.modeling.updateModdleProperties(this.modelerStore.element, this.multiLoopInstance, {\r\n        completionCondition\r\n      });\r\n    },\r\n\r\n    // 重试周期\r\n    updateLoopTimeCycle(timeCycle) {\r\n      const extensionElements = this.modelerStore.moddle.create(\"bpmn:ExtensionElements\", {\r\n        values: [\r\n          this.modelerStore.moddle.create(`flowable:FailedJobRetryTimeCycle`, {\r\n            body: timeCycle\r\n          })\r\n        ]\r\n      });\r\n      this.modelerStore.modeling.updateModdleProperties(this.modelerStore.element, this.multiLoopInstance, {\r\n        extensionElements\r\n      });\r\n    },\r\n\r\n    // 直接更新的基础信息\r\n    updateLoopBase() {\r\n      this.modelerStore.modeling.updateModdleProperties(this.modelerStore.element, this.multiLoopInstance, {\r\n        collection: this.loopInstanceForm.collection || null,\r\n        elementVariable: this.loopInstanceForm.elementVariable || null\r\n      });\r\n    },\r\n\r\n    // 各异步状态\r\n    updateLoopAsync(key) {\r\n      const {asyncBefore, asyncAfter} = this.loopInstanceForm;\r\n      let asyncAttr = Object.create(null);\r\n      if (!asyncBefore && !asyncAfter) {\r\n        this.$set(this.loopInstanceForm, \"exclusive\", false);\r\n        asyncAttr = {asyncBefore: false, asyncAfter: false, exclusive: false, extensionElements: null};\r\n      } else {\r\n        asyncAttr[key] = this.loopInstanceForm[key];\r\n      }\r\n      this.modelerStore.modeling.updateModdleProperties(this.modelerStore.element, this.multiLoopInstance, asyncAttr);\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n@import '../style/process-panel';\r\n</style>\r\n\r\n"],"mappings":"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","ignoreList":[]}]}