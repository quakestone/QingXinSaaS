{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\Process\\panel\\formPanel.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\Process\\panel\\formPanel.vue","mtime":1733705220397},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\babel.config.js","mtime":1733705220203},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5mb3ItZWFjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwp2YXIgX2Zvcm0gPSByZXF1aXJlKCJAL2FwaS9mbG93YWJsZS9mb3JtIik7CnZhciBfU3RyVXRpbCA9IHJlcXVpcmUoIkAvdXRpbHMvU3RyVXRpbCIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgbmFtZTogIkZvcm1QYW5lbCIsCiAgLyoqIOe7hOS7tuS8oOWAvCAgKi8KICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1MaXN0OiBbXSwKICAgICAgLy8g6KGo5Y2V5pWw5o2uCiAgICAgIGJwbW5Gb3JtRGF0YToge30KICAgIH07CiAgfSwKICAvKiog5Lyg5YC855uR5ZCsICovCiAgd2F0Y2g6IHsKICAgIGlkOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsKSB7CiAgICAgICAgaWYgKF9TdHJVdGlsLlN0clV0aWwuaXNOb3RCbGFuayhuZXdWYWwpKSB7CiAgICAgICAgICAvLyDliqDovb3ooajljZXliJfooagKICAgICAgICAgIHRoaXMuZ2V0TGlzdEZvcm0oKTsKICAgICAgICAgIHRoaXMucmVzZXRGbG93Rm9ybSgpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlIC8vIOeri+WNs+eUn+aViAogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaWueazleWMugogICAgcmVzZXRGbG93Rm9ybTogZnVuY3Rpb24gcmVzZXRGbG93Rm9ybSgpIHsKICAgICAgdGhpcy5icG1uRm9ybURhdGEuZm9ybUtleSA9IHRoaXMubW9kZWxlclN0b3JlLmVsZW1lbnQuYnVzaW5lc3NPYmplY3QuZm9ybUtleTsKICAgIH0sCiAgICB1cGRhdGVFbGVtZW50Rm9ybUtleTogZnVuY3Rpb24gdXBkYXRlRWxlbWVudEZvcm1LZXkodmFsKSB7CiAgICAgIGlmIChfU3RyVXRpbC5TdHJVdGlsLmlzQmxhbmsodmFsKSkgewogICAgICAgIGRlbGV0ZSB0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LmJ1c2luZXNzT2JqZWN0WyJmb3JtS2V5Il07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tb2RlbGVyU3RvcmUubW9kZWxpbmcudXBkYXRlUHJvcGVydGllcyh0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LCB7CiAgICAgICAgICAnZm9ybUtleSc6IHZhbAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g6I635Y+W6KGo5Y2V5L+h5oGvCiAgICBnZXRMaXN0Rm9ybTogZnVuY3Rpb24gZ2V0TGlzdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICgwLCBfZm9ybS5saXN0QWxsRm9ybSkoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpdGVtLmZvcm1JZCA9IGl0ZW0uZm9ybUlkLnRvU3RyaW5nKCk7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMuZm9ybUxpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_form","require","_StrUtil","name","props","id","type","String","required","data","formList","bpmnFormData","watch","handler","newVal","StrUtil","isNotBlank","getListForm","resetFlowForm","immediate","created","methods","formKey","modelerStore","element","businessObject","updateElementFormKey","val","isBlank","modeling","updateProperties","_this","listAllForm","then","res","forEach","item","formId","toString"],"sources":["src/components/Process/panel/formPanel.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-form label-width=\"80px\" size=\"small\" @submit.native.prevent>\r\n      <el-form-item label=\"流程表单\">\r\n        <el-select v-model=\"bpmnFormData.formKey\" clearable class=\"m-2\" placeholder=\"挂载节点表单\" @change=\"updateElementFormKey\">\r\n          <el-option\r\n              v-for=\"item in formList\"\r\n              :key=\"item.value\"\r\n              :label=\"item.formName\"\r\n              :value=\"item.formId\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { listAllForm } from '@/api/flowable/form'\r\nimport {StrUtil} from \"@/utils/StrUtil\";\r\nexport default {\r\n  name: \"FormPanel\",\r\n  /** 组件传值  */\r\n  props : {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      formList: [], // 表单数据\r\n      bpmnFormData: {}\r\n    }\r\n  },\r\n\r\n  /** 传值监听 */\r\n  watch: {\r\n    id: {\r\n      handler(newVal) {\r\n        if (StrUtil.isNotBlank(newVal)) {\r\n          // 加载表单列表\r\n          this.getListForm();\r\n          this.resetFlowForm();\r\n        }\r\n      },\r\n      immediate: true, // 立即生效\r\n    },\r\n  },\r\n  created() {\r\n\r\n  },\r\n  methods: {\r\n\r\n    // 方法区\r\n    resetFlowForm() {\r\n      this.bpmnFormData.formKey = this.modelerStore.element.businessObject.formKey;\r\n    },\r\n\r\n    updateElementFormKey(val) {\r\n      if (StrUtil.isBlank(val)) {\r\n        delete this.modelerStore.element.businessObject[`formKey`]\r\n      } else {\r\n        this.modelerStore.modeling.updateProperties(this.modelerStore.element, {'formKey': val});\r\n      }\r\n    },\r\n\r\n    // 获取表单信息\r\n    getListForm() {\r\n      listAllForm().then(res => {\r\n        res.data.forEach(item => {\r\n          item.formId = item.formId.toString();\r\n        })\r\n        this.formList = res.data;\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n"],"mappings":";;;;;;;;;;;AAmBA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;;;;;;;;;;;;;;;;;;iCACA;EACAE,IAAA;EACA;EACAC,KAAA;IACAC,EAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MAAA;MACAC,YAAA;IACA;EACA;EAEA;EACAC,KAAA;IACAP,EAAA;MACAQ,OAAA,WAAAA,QAAAC,MAAA;QACA,IAAAC,gBAAA,CAAAC,UAAA,CAAAF,MAAA;UACA;UACA,KAAAG,WAAA;UACA,KAAAC,aAAA;QACA;MACA;MACAC,SAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA,GAEA;EACAC,OAAA;IAEA;IACAH,aAAA,WAAAA,cAAA;MACA,KAAAP,YAAA,CAAAW,OAAA,QAAAC,YAAA,CAAAC,OAAA,CAAAC,cAAA,CAAAH,OAAA;IACA;IAEAI,oBAAA,WAAAA,qBAAAC,GAAA;MACA,IAAAZ,gBAAA,CAAAa,OAAA,CAAAD,GAAA;QACA,YAAAJ,YAAA,CAAAC,OAAA,CAAAC,cAAA;MACA;QACA,KAAAF,YAAA,CAAAM,QAAA,CAAAC,gBAAA,MAAAP,YAAA,CAAAC,OAAA;UAAA,WAAAG;QAAA;MACA;IACA;IAEA;IACAV,WAAA,WAAAA,YAAA;MAAA,IAAAc,KAAA;MACA,IAAAC,iBAAA,IAAAC,IAAA,WAAAC,GAAA;QACAA,GAAA,CAAAzB,IAAA,CAAA0B,OAAA,WAAAC,IAAA;UACAA,IAAA,CAAAC,MAAA,GAAAD,IAAA,CAAAC,MAAA,CAAAC,QAAA;QACA;QACAP,KAAA,CAAArB,QAAA,GAAAwB,GAAA,CAAAzB,IAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}