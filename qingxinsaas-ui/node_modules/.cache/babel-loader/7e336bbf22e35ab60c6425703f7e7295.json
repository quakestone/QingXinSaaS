{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\views\\flowable\\task\\todo\\detail\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\views\\flowable\\task\\todo\\detail\\index.vue","mtime":1733705220555},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\babel.config.js","mtime":1733705220203},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9jaGVueGkvRGVza3RvcC9wcm8vUWluZ1hpblNhYVMvcWluZ3hpbnNhYXMtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5tYXAuanMiKTsKdmFyIF9maW5pc2hlZCA9IHJlcXVpcmUoIkAvYXBpL2Zsb3dhYmxlL2ZpbmlzaGVkIik7CnZhciBfVXNlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9jb21wb25lbnRzL2Zsb3cvVXNlciIpKTsKdmFyIF9Sb2xlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL2NvbXBvbmVudHMvZmxvdy9Sb2xlIikpOwp2YXIgX2RlZmluaXRpb24gPSByZXF1aXJlKCJAL2FwaS9mbG93YWJsZS9kZWZpbml0aW9uIik7CnZhciBfdG9kbyA9IHJlcXVpcmUoIkAvYXBpL2Zsb3dhYmxlL3RvZG8iKTsKdmFyIF92aWV3ZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvY29tcG9uZW50cy9Qcm9jZXNzL3ZpZXdlciIpKTsKcmVxdWlyZSgiQHJpb3BoYWUvdnVlLXRyZWVzZWxlY3QvZGlzdC92dWUtdHJlZXNlbGVjdC5jc3MiKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gewogIG5hbWU6ICJSZWNvcmQiLAogIGNvbXBvbmVudHM6IHsKICAgIEJwbW5WaWV3ZXI6IF92aWV3ZXIuZGVmYXVsdCwKICAgIEZsb3dVc2VyOiBfVXNlci5kZWZhdWx0LAogICAgRmxvd1JvbGU6IF9Sb2xlLmRlZmF1bHQKICB9LAogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXZlbnROYW1lOiAiY2xpY2siLAogICAgICAvLyDmtYHnqIvmlbDmja4KICAgICAgZmxvd0RhdGE6IHt9LAogICAgICBhY3RpdmVOYW1lOiAnMScsCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBmbG93UmVjb3JkTGlzdDogW10sCiAgICAgIC8vIOa1geeoi+a1gei9rOaVsOaNrgogICAgICBydWxlczoge30sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICB0YXNrRm9ybTogewogICAgICAgIHJldHVyblRhc2tTaG93OiBmYWxzZSwKICAgICAgICAvLyDmmK/lkKblsZXnpLrlm57pgIDooajljZUKICAgICAgICBkZWxlZ2F0ZVRhc2tTaG93OiBmYWxzZSwKICAgICAgICAvLyDmmK/lkKblsZXnpLrlm57pgIDooajljZUKICAgICAgICBkZWZhdWx0VGFza1Nob3c6IHRydWUsCiAgICAgICAgLy8g6buY6K6k5aSE55CGCiAgICAgICAgY29tbWVudDogIiIsCiAgICAgICAgLy8g5oSP6KeB5YaF5a65CiAgICAgICAgcHJvY0luc0lkOiAiIiwKICAgICAgICAvLyDmtYHnqIvlrp7kvovnvJblj7cKICAgICAgICBpbnN0YW5jZUlkOiAiIiwKICAgICAgICAvLyDmtYHnqIvlrp7kvovnvJblj7cKICAgICAgICBkZXBsb3lJZDogIiIsCiAgICAgICAgLy8g5rWB56iL5a6a5LmJ57yW5Y+3CiAgICAgICAgdGFza0lkOiAiIiwKICAgICAgICAvLyDmtYHnqIvku7vliqHnvJblj7cKICAgICAgICBwcm9jRGVmSWQ6ICIiLAogICAgICAgIC8vIOa1geeoi+e8luWPtwogICAgICAgIHRhcmdldEtleTogIiIsCiAgICAgICAgdmFyaWFibGVzOiB7fQogICAgICB9LAogICAgICByZXR1cm5UYXNrTGlzdDogW10sCiAgICAgIC8vIOWbnumAgOWIl+ihqOaVsOaNrgogICAgICBjb21wbGV0ZVRpdGxlOiBudWxsLAogICAgICBjb21wbGV0ZU9wZW46IGZhbHNlLAogICAgICByZXR1cm5UaXRsZTogbnVsbCwKICAgICAgcmV0dXJuT3BlbjogZmFsc2UsCiAgICAgIHJlamVjdE9wZW46IGZhbHNlLAogICAgICByZWplY3RUaXRsZTogbnVsbCwKICAgICAgY2hlY2tTZW5kVXNlcjogZmFsc2UsCiAgICAgIC8vIOaYr+WQpuWxleekuuS6uuWRmOmAieaLqeaooeWdlwogICAgICBjaGVja1NlbmRSb2xlOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5bGV56S66KeS6Imy6YCJ5oup5qih5Z2XCiAgICAgIGNoZWNrVHlwZTogJ3NpbmdsZScsCiAgICAgIC8vIOmAieaLqeexu+WeiwogICAgICB0YXNrTmFtZTogbnVsbCwKICAgICAgLy8g5Lu75Yqh6IqC54K5CiAgICAgIHN0YXJ0VXNlcjogbnVsbCwKICAgICAgLy8g5Y+R6LW35Lq65L+h5oGvLAogICAgICBtdWx0aUluc3RhbmNlVmFyczogJycsCiAgICAgIC8vIOS8muetvuiKgueCuQogICAgICBmb3JtSnNvbjoge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5KSB7CiAgICAgIHRoaXMudGFza05hbWUgPSB0aGlzLiRyb3V0ZS5xdWVyeS50YXNrTmFtZTsKICAgICAgdGhpcy5zdGFydFVzZXIgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zdGFydFVzZXI7CiAgICAgIHRoaXMudGFza0Zvcm0uZGVwbG95SWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5kZXBsb3lJZDsKICAgICAgdGhpcy50YXNrRm9ybS50YXNrSWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS50YXNrSWQ7CiAgICAgIHRoaXMudGFza0Zvcm0ucHJvY0luc0lkID0gdGhpcy4kcm91dGUucXVlcnkucHJvY0luc0lkOwogICAgICB0aGlzLnRhc2tGb3JtLmV4ZWN1dGlvbklkID0gdGhpcy4kcm91dGUucXVlcnkuZXhlY3V0aW9uSWQ7CiAgICAgIHRoaXMudGFza0Zvcm0uaW5zdGFuY2VJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnByb2NJbnNJZDsKICAgICAgLy8g5rWB56iL5Lu75Yqh6I635Y+W5Y+Y6YeP5L+h5oGvCiAgICAgIGlmICh0aGlzLnRhc2tGb3JtLnRhc2tJZCkgewogICAgICAgIHRoaXMuZ2V0Rmxvd1Rhc2tGb3JtKHRoaXMudGFza0Zvcm0udGFza0lkKTsKICAgICAgfQogICAgICB0aGlzLmdldEZsb3dSZWNvcmRMaXN0KHRoaXMudGFza0Zvcm0ucHJvY0luc0lkLCB0aGlzLnRhc2tGb3JtLmRlcGxveUlkKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayh0YWIsIGV2ZW50KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGlmICh0YWIubmFtZSA9PT0gJzMnKSB7CiAgICAgICAgKDAsIF9kZWZpbml0aW9uLmZsb3dYbWxBbmROb2RlKSh7CiAgICAgICAgICBwcm9jSW5zSWQ6IHRoaXMudGFza0Zvcm0ucHJvY0luc0lkLAogICAgICAgICAgZGVwbG95SWQ6IHRoaXMudGFza0Zvcm0uZGVwbG95SWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzLmZsb3dEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRJY29uOiBmdW5jdGlvbiBzZXRJY29uKHZhbCkgewogICAgICBpZiAodmFsKSB7CiAgICAgICAgcmV0dXJuICJlbC1pY29uLWNoZWNrIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gImVsLWljb24tdGltZSI7CiAgICAgIH0KICAgIH0sCiAgICBzZXRDb2xvcjogZnVuY3Rpb24gc2V0Q29sb3IodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICByZXR1cm4gIiMyYmM0MTgiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiI2IzYmRiYiI7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnlKjmiLfkv6Hmga/pgInkuK3mlbDmja4KICAgIGhhbmRsZVVzZXJTZWxlY3Q6IGZ1bmN0aW9uIGhhbmRsZVVzZXJTZWxlY3Qoc2VsZWN0aW9uKSB7CiAgICAgIGlmIChzZWxlY3Rpb24pIHsKICAgICAgICBpZiAoc2VsZWN0aW9uIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICAgIHZhciBzZWxlY3RWYWwgPSBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLnVzZXJJZC50b1N0cmluZygpOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAodGhpcy5tdWx0aUluc3RhbmNlVmFycykgewogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy50YXNrRm9ybS52YXJpYWJsZXMsIHRoaXMubXVsdGlJbnN0YW5jZVZhcnMsIHNlbGVjdFZhbCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy50YXNrRm9ybS52YXJpYWJsZXMsICJhcHByb3ZhbCIsIHNlbGVjdFZhbC5qb2luKCcsJykpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy50YXNrRm9ybS52YXJpYWJsZXMsICJhcHByb3ZhbCIsIHNlbGVjdGlvbi51c2VySWQudG9TdHJpbmcoKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g6KeS6Imy5L+h5oGv6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVSb2xlU2VsZWN0OiBmdW5jdGlvbiBoYW5kbGVSb2xlU2VsZWN0KHNlbGVjdGlvbiwgcm9sZU5hbWUpIHsKICAgICAgaWYgKHNlbGVjdGlvbikgewogICAgICAgIGlmIChzZWxlY3Rpb24gaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgdmFyIHNlbGVjdFZhbCA9IHNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0ucm9sZUlkLnRvU3RyaW5nKCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRhc2tGb3JtLnZhcmlhYmxlcywgImFwcHJvdmFsIiwgc2VsZWN0VmFsLmpvaW4oJywnKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnRhc2tGb3JtLnZhcmlhYmxlcywgImFwcHJvdmFsIiwgc2VsZWN0aW9uKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvKiog5rWB56iL5rWB6L2s6K6w5b2VICovZ2V0Rmxvd1JlY29yZExpc3Q6IGZ1bmN0aW9uIGdldEZsb3dSZWNvcmRMaXN0KHByb2NJbnNJZCwgZGVwbG95SWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBwcm9jSW5zSWQ6IHByb2NJbnNJZCwKICAgICAgICBkZXBsb3lJZDogZGVwbG95SWQKICAgICAgfTsKICAgICAgKDAsIF9maW5pc2hlZC5mbG93UmVjb3JkKShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHRoYXQuZmxvd1JlY29yZExpc3QgPSByZXMuZGF0YS5mbG93TGlzdDsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5nb0JhY2soKTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOa1geeoi+iKgueCueihqOWNlSAqL2dldEZsb3dUYXNrRm9ybTogZnVuY3Rpb24gZ2V0Rmxvd1Rhc2tGb3JtKHRhc2tJZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgaWYgKHRhc2tJZCkgewogICAgICAgIC8vIOaPkOS6pOa1geeoi+eUs+ivt+aXtuWhq+WGmeeahOihqOWNleWtmOWFpeS6hua1geeoi+WPmOmHj+S4reWQjue7reS7u+WKoeWkhOeQhuaXtumcgOimgeWxleekugogICAgICAgICgwLCBfdG9kby5mbG93VGFza0Zvcm0pKHsKICAgICAgICAgIHRhc2tJZDogdGFza0lkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAvLyDlm57mmL7ooajljZUKICAgICAgICAgIF90aGlzMy4kcmVmcy52Rm9ybVJlZi5zZXRGb3JtSnNvbihyZXMuZGF0YS5mb3JtSnNvbik7CiAgICAgICAgICBfdGhpczMuZm9ybUpzb24gPSByZXMuZGF0YS5mb3JtSnNvbjsKICAgICAgICAgIF90aGlzMy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyDliqDovb3ooajljZXloavlhpnnmoTmlbDmja4KICAgICAgICAgICAgX3RoaXMzLiRyZWZzLnZGb3JtUmVmLnNldEZvcm1EYXRhKHJlcy5kYXRhKTsKICAgICAgICAgICAgLy8gdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAvLyAgIC8vIOihqOWNleemgeeUqAogICAgICAgICAgICAvLyAgIHRoaXMuJHJlZnMudkZvcm1SZWYuZGlzYWJsZUZvcm0oKTsKICAgICAgICAgICAgLy8gfSkKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLyoqIOWnlOa0vuS7u+WKoSAqL2hhbmRsZURlbGVnYXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxlZ2F0ZSgpIHsKICAgICAgdGhpcy50YXNrRm9ybS5kZWxlZ2F0ZVRhc2tTaG93ID0gdHJ1ZTsKICAgICAgdGhpcy50YXNrRm9ybS5kZWZhdWx0VGFza1Nob3cgPSBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVBc3NpZ246IGZ1bmN0aW9uIGhhbmRsZUFzc2lnbigpIHt9LAogICAgLyoqIOi/lOWbnumhtemdoiAqL2dvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICAvLyDlhbPpl63lvZPliY3moIfnrb7pobXlubbov5Tlm57kuIrkuKrpobXpnaIKICAgICAgdmFyIG9iaiA9IHsKICAgICAgICBwYXRoOiAiL3Rhc2svdG9kbyIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHQ6IERhdGUubm93KCkKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuJHRhYi5jbG9zZU9wZW5QYWdlKG9iaik7CiAgICB9LAogICAgLyoqIOmps+WbnuS7u+WKoSAqL2hhbmRsZVJlamVjdDogZnVuY3Rpb24gaGFuZGxlUmVqZWN0KCkgewogICAgICB0aGlzLnJlamVjdE9wZW4gPSB0cnVlOwogICAgICB0aGlzLnJlamVjdFRpdGxlID0gIumps+Wbnua1geeoiyI7CiAgICB9LAogICAgLyoqIOmps+WbnuS7u+WKoSAqL3Rhc2tSZWplY3Q6IGZ1bmN0aW9uIHRhc2tSZWplY3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWyJ0YXNrRm9ybSJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgKDAsIF90b2RvLnJlamVjdFRhc2spKF90aGlzNC50YXNrRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzNC4kbW9kYWwubXNnU3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgX3RoaXM0LmdvQmFjaygpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKiog5Y+v6YCA5Zue5Lu75Yqh5YiX6KGoICovaGFuZGxlUmV0dXJuOiBmdW5jdGlvbiBoYW5kbGVSZXR1cm4oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLnJldHVybk9wZW4gPSB0cnVlOwogICAgICB0aGlzLnJldHVyblRpdGxlID0gIumAgOWbnua1geeoiyI7CiAgICAgICgwLCBfdG9kby5yZXR1cm5MaXN0KSh0aGlzLnRhc2tGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczUucmV0dXJuVGFza0xpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOaPkOS6pOmAgOWbnuS7u+WKoSAqL3Rhc2tSZXR1cm46IGZ1bmN0aW9uIHRhc2tSZXR1cm4oKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWyJ0YXNrRm9ybSJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgKDAsIF90b2RvLnJldHVyblRhc2spKF90aGlzNi50YXNrRm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzNi4kbW9kYWwubXNnU3VjY2VzcyhyZXMubXNnKTsKICAgICAgICAgICAgX3RoaXM2LmdvQmFjaygpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKiog5Y+W5raI5Zue6YCA5Lu75Yqh5oyJ6ZKuICovY2FuY2VsVGFzazogZnVuY3Rpb24gY2FuY2VsVGFzaygpIHsKICAgICAgdGhpcy50YXNrRm9ybS5yZXR1cm5UYXNrU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLnRhc2tGb3JtLmRlZmF1bHRUYXNrU2hvdyA9IHRydWU7CiAgICAgIHRoaXMucmV0dXJuVGFza0xpc3QgPSBbXTsKICAgIH0sCiAgICAvKiog5aeU5rS+5Lu75YqhICovc3VibWl0RGVsZXRlVGFzazogZnVuY3Rpb24gc3VibWl0RGVsZXRlVGFzaygpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbInRhc2tGb3JtIl0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAoMCwgX3RvZG8uZGVsZWdhdGUpKF90aGlzNy50YXNrRm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXM3LiRtb2RhbC5tc2dTdWNjZXNzKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgICAgIF90aGlzNy5nb0JhY2soKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqIOWPlua2iOWbnumAgOS7u+WKoeaMiemSriAqL2NhbmNlbERlbGVnYXRlVGFzazogZnVuY3Rpb24gY2FuY2VsRGVsZWdhdGVUYXNrKCkgewogICAgICB0aGlzLnRhc2tGb3JtLmRlbGVnYXRlVGFza1Nob3cgPSBmYWxzZTsKICAgICAgdGhpcy50YXNrRm9ybS5kZWZhdWx0VGFza1Nob3cgPSB0cnVlOwogICAgICB0aGlzLnJldHVyblRhc2tMaXN0ID0gW107CiAgICB9LAogICAgLyoqIOWKoOi9veWuoeaJueS7u+WKoeW8ueahhiAqL2hhbmRsZUNvbXBsZXRlOiBmdW5jdGlvbiBoYW5kbGVDb21wbGV0ZSgpIHsKICAgICAgdGhpcy5jb21wbGV0ZU9wZW4gPSB0cnVlOwogICAgICB0aGlzLmNvbXBsZXRlVGl0bGUgPSAi5rWB56iL5a6h5om5IjsKICAgICAgdGhpcy5zdWJtaXRGb3JtKCk7CiAgICB9LAogICAgLyoqIOeUqOaIt+WuoeaJueS7u+WKoSAqL3Rhc2tDb21wbGV0ZTogZnVuY3Rpb24gdGFza0NvbXBsZXRlKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgaWYgKCF0aGlzLnRhc2tGb3JtLnZhcmlhYmxlcyAmJiB0aGlzLmNoZWNrU2VuZFVzZXIpIHsKICAgICAgICB0aGlzLiRtb2RhbC5tc2dFcnJvcigi6K+36YCJ5oup5rWB56iL5o6l5pS25Lq65ZGYISIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoIXRoaXMudGFza0Zvcm0udmFyaWFibGVzICYmIHRoaXMuY2hlY2tTZW5kUm9sZSkgewogICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKCLor7fpgInmi6nmtYHnqIvmjqXmlLbop5LoibLnu4QhIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICghdGhpcy50YXNrRm9ybS5jb21tZW50KSB7CiAgICAgICAgdGhpcy4kbW9kYWwubXNnRXJyb3IoIuivt+i+k+WFpeWuoeaJueaEj+ingSEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMudGFza0Zvcm0pIHsKICAgICAgICAoMCwgX3RvZG8uY29tcGxldGUpKHRoaXMudGFza0Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczguJG1vZGFsLm1zZ1N1Y2Nlc3MocmVzcG9uc2UubXNnKTsKICAgICAgICAgIF90aGlzOC5nb0JhY2soKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAoMCwgX3RvZG8uY29tcGxldGUpKHRoaXMudGFza0Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczguJG1vZGFsLm1zZ1N1Y2Nlc3MocmVzcG9uc2UubXNnKTsKICAgICAgICAgIF90aGlzOC5nb0JhY2soKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8qKiDnlLPor7fmtYHnqIvooajljZXmlbDmja7mj5DkuqQgKi9zdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgLy8g5qC55o2u5b2T5YmN5Lu75Yqh5oiW6ICF5rWB56iL6K6+6K6h6YWN572u55qE5LiL5LiA5q2l6IqC54K5IHRvZG8g5pqC5pe25pyq5raJ5Y+K5Yiw6ICD6JmR572R5YWz44CB6KGo6L6+5byP5ZKM5aSa6IqC54K55oOF5Ya1CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgdGFza0lkOiB0aGlzLnRhc2tGb3JtLnRhc2tJZAogICAgICB9OwogICAgICAoMCwgX3RvZG8uZ2V0TmV4dEZsb3dOb2RlKShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzOS4kcmVmcy52Rm9ybVJlZi5nZXRGb3JtRGF0YSgpLnRoZW4oZnVuY3Rpb24gKGZvcm1EYXRhKSB7CiAgICAgICAgICBPYmplY3QuYXNzaWduKF90aGlzOS50YXNrRm9ybS52YXJpYWJsZXMsIGZvcm1EYXRhKTsKICAgICAgICAgIF90aGlzOS50YXNrRm9ybS52YXJpYWJsZXMuZm9ybUpzb24gPSBfdGhpczkuZm9ybUpzb247CiAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczkudGFza0Zvcm0sICLmtYHnqIvlrqHmibnmj5DkuqTooajljZXmlbDmja4xIik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAvLyB0aGlzLiRtb2RhbC5tc2dFcnJvcihlcnJvcikKICAgICAgICB9KTsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICBpZiAoZGF0YS5kYXRhVHlwZSA9PT0gJ2R5bmFtaWMnKSB7CiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdhc3NpZ25lZScpIHsKICAgICAgICAgICAgICAvLyDmjIflrprkurrlkZgKICAgICAgICAgICAgICBfdGhpczkuY2hlY2tTZW5kVXNlciA9IHRydWU7CiAgICAgICAgICAgICAgX3RoaXM5LmNoZWNrVHlwZSA9ICJzaW5nbGUiOwogICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2NhbmRpZGF0ZVVzZXJzJykgewogICAgICAgICAgICAgIC8vIOWAmemAieS6uuWRmCjlpJrkuKopCiAgICAgICAgICAgICAgX3RoaXM5LmNoZWNrU2VuZFVzZXIgPSB0cnVlOwogICAgICAgICAgICAgIF90aGlzOS5jaGVja1R5cGUgPSAibXVsdGlwbGUiOwogICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2NhbmRpZGF0ZUdyb3VwcycpIHsKICAgICAgICAgICAgICAvLyDmjIflrprnu4Qo5omA5bGe6KeS6Imy5o6l5pS25Lu75YqhKQogICAgICAgICAgICAgIF90aGlzOS5jaGVja1NlbmRSb2xlID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyDkvJrnrb4KICAgICAgICAgICAgICAvLyDmtYHnqIvorr7orqHmjIflrprnmoQgZWxlbWVudFZhcmlhYmxlIOS9nOS4uuS8muetvuS6uuWRmOWIl+ihqAogICAgICAgICAgICAgIF90aGlzOS5tdWx0aUluc3RhbmNlVmFycyA9IGRhdGEudmFyczsKICAgICAgICAgICAgICBfdGhpczkuY2hlY2tTZW5kVXNlciA9IHRydWU7CiAgICAgICAgICAgICAgX3RoaXM5LmNoZWNrVHlwZSA9ICJtdWx0aXBsZSI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWKqOaAgee7keWumuaTjeS9nOaMiemSrueahOeCueWHu+S6i+S7tgogICAgaGFuZGxlQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUJ1dHRvbkNsaWNrKG1ldGhvZCkgewogICAgICB0aGlzW21ldGhvZF0oKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["_finished","require","_User","_interopRequireDefault","_Role","_definition","_todo","_viewer","name","components","BpmnViewer","FlowUser","FlowRole","props","data","eventName","flowData","activeName","loading","flowRecordList","rules","taskForm","returnTaskShow","delegateTaskShow","defaultTaskShow","comment","procInsId","instanceId","deployId","taskId","procDefId","targetKey","variables","returnTaskList","completeTitle","completeOpen","returnTitle","returnOpen","rejectOpen","rejectTitle","checkSendUser","checkSendRole","checkType","taskName","startUser","multiInstanceVars","formJson","created","$route","query","executionId","getFlowTaskForm","getFlowRecordList","methods","handleClick","tab","event","_this","flowXmlAndNode","then","res","setIcon","val","setColor","handleUserSelect","selection","Array","selectVal","map","item","userId","toString","$set","join","handleRoleSelect","roleName","roleId","_this2","that","params","flowRecord","flowList","catch","goBack","_this3","flowTaskForm","$refs","vFormRef","setFormJson","$nextTick","setFormData","handleDelegate","handleAssign","obj","path","t","Date","now","$tab","closeOpenPage","handleReject","taskReject","_this4","validate","valid","rejectTask","$modal","msgSuccess","msg","handleReturn","_this5","returnList","taskReturn","_this6","returnTask","cancelTask","submitDeleteTask","_this7","delegate","response","cancelDelegateTask","handleComplete","submitForm","taskComplete","_this8","msgError","complete","_this9","getNextFlowNode","getFormData","formData","Object","assign","console","log","error","dataType","type","vars","handleButtonClick","method"],"sources":["src/views/flowable/task/todo/detail/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span class=\"el-icon-document\">待办任务</span>\r\n        <el-tag style=\"margin-left:10px\">发起人:{{ startUser }}</el-tag>\r\n        <el-tag>任务节点:{{ taskName }}</el-tag>\r\n        <el-button style=\"float: right;\" size=\"mini\" type=\"danger\" @click=\"goBack\">关闭</el-button>\r\n      </div>\r\n      <el-tabs tab-position=\"top\" v-model=\"activeName\" @tab-click=\"handleClick\">\r\n        <!--表单信息-->\r\n        <el-tab-pane label=\"表单信息\" name=\"1\">\r\n          <el-col :span=\"16\" :offset=\"4\">\r\n            <v-form-render ref=\"vFormRef\"/>\r\n            <div style=\"margin-left:10%;margin-bottom: 20px;font-size: 14px;\">\r\n              <el-button type=\"primary\" @click=\"handleComplete\">审 批</el-button>\r\n            </div>\r\n          </el-col>\r\n        </el-tab-pane>\r\n\r\n        <!--流程流转记录-->\r\n        <el-tab-pane label=\"流转记录\" name=\"2\">\r\n          <!--flowRecordList-->\r\n          <el-col :span=\"16\" :offset=\"4\">\r\n            <div class=\"block\">\r\n              <el-timeline>\r\n                <el-timeline-item\r\n                  v-for=\"(item,index ) in flowRecordList\"\r\n                  :key=\"index\"\r\n                  :icon=\"setIcon(item.finishTime)\"\r\n                  :color=\"setColor(item.finishTime)\"\r\n                >\r\n                  <p style=\"font-weight: 700\">{{ item.taskName }}</p>\r\n                  <el-card :body-style=\"{ padding: '10px' }\">\r\n                    <el-descriptions class=\"margin-top\" :column=\"1\" size=\"small\" border>\r\n                      <el-descriptions-item v-if=\"item.assigneeName\" label-class-name=\"my-label\">\r\n                        <template slot=\"label\"><i class=\"el-icon-user\"></i>办理人</template>\r\n                        {{ item.assigneeName }}\r\n                        <el-tag type=\"info\" size=\"mini\">{{ item.deptName }}</el-tag>\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item v-if=\"item.candidate\" label-class-name=\"my-label\">\r\n                        <template slot=\"label\"><i class=\"el-icon-user\"></i>候选办理</template>\r\n                        {{ item.candidate }}\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item label-class-name=\"my-label\">\r\n                        <template slot=\"label\"><i class=\"el-icon-date\"></i>接收时间</template>\r\n                        {{ item.createTime }}\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item v-if=\"item.finishTime\" label-class-name=\"my-label\">\r\n                        <template slot=\"label\"><i class=\"el-icon-date\"></i>处理时间</template>\r\n                        {{ item.finishTime }}\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item v-if=\"item.duration\" label-class-name=\"my-label\">\r\n                        <template slot=\"label\"><i class=\"el-icon-time\"></i>耗时</template>\r\n                        {{ item.duration }}\r\n                      </el-descriptions-item>\r\n                      <el-descriptions-item v-if=\"item.comment\" label-class-name=\"my-label\">\r\n                        <template slot=\"label\"><i class=\"el-icon-tickets\"></i>处理意见</template>\r\n                        {{ item.comment.comment }}\r\n                      </el-descriptions-item>\r\n                    </el-descriptions>\r\n                  </el-card>\r\n                </el-timeline-item>\r\n              </el-timeline>\r\n            </div>\r\n          </el-col>\r\n        </el-tab-pane>\r\n        <!--流程图-->\r\n        <el-tab-pane label=\"流程图\" name=\"3\">\r\n          <bpmn-viewer :flowData=\"flowData\" :procInsId=\"taskForm.procInsId\"/>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n      <!--审批任务-->\r\n      <el-dialog :title=\"completeTitle\" :visible.sync=\"completeOpen\" width=\"60%\" append-to-body>\r\n        <el-form ref=\"taskForm\" :model=\"taskForm\">\r\n          <el-form-item prop=\"targetKey\">\r\n            <flow-user v-if=\"checkSendUser\" :checkType=\"checkType\" @handleUserSelect=\"handleUserSelect\"></flow-user>\r\n            <flow-role v-if=\"checkSendRole\" @handleRoleSelect=\"handleRoleSelect\"></flow-role>\r\n          </el-form-item>\r\n          <el-form-item label=\"处理意见\" label-width=\"80px\" prop=\"comment\"\r\n                        :rules=\"[{ required: true, message: '请输入处理意见', trigger: 'blur' }]\">\r\n            <el-input type=\"textarea\" v-model=\"taskForm.comment\" placeholder=\"请输入处理意见\"/>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"completeOpen = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"taskComplete\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <!--退回流程-->\r\n      <el-dialog :title=\"returnTitle\" :visible.sync=\"returnOpen\" width=\"40%\" append-to-body>\r\n        <el-form ref=\"taskForm\" :model=\"taskForm\" label-width=\"80px\">\r\n          <el-form-item label=\"退回节点\" prop=\"targetKey\">\r\n            <el-radio-group v-model=\"taskForm.targetKey\">\r\n              <el-radio-button\r\n                v-for=\"item in returnTaskList\"\r\n                :key=\"item.id\"\r\n                :label=\"item.id\"\r\n              >{{ item.name }}\r\n              </el-radio-button>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"退回意见\" prop=\"comment\"\r\n                        :rules=\"[{ required: true, message: '请输入意见', trigger: 'blur' }]\">\r\n            <el-input style=\"width: 50%\" type=\"textarea\" v-model=\"taskForm.comment\" placeholder=\"请输入意见\"/>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"returnOpen = false\">取 消</el-button>\r\n              <el-button type=\"primary\" @click=\"taskReturn\">确 定</el-button>\r\n          </span>\r\n      </el-dialog>\r\n      <!--驳回流程-->\r\n      <el-dialog :title=\"rejectTitle\" :visible.sync=\"rejectOpen\" width=\"40%\" append-to-body>\r\n        <el-form ref=\"taskForm\" :model=\"taskForm\" label-width=\"80px\">\r\n          <el-form-item label=\"驳回意见\" prop=\"comment\"\r\n                        :rules=\"[{ required: true, message: '请输入意见', trigger: 'blur' }]\">\r\n            <el-input style=\"width: 50%\" type=\"textarea\" v-model=\"taskForm.comment\" placeholder=\"请输入意见\"/>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"rejectOpen = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"taskReject\">确 定</el-button>\r\n          </span>\r\n      </el-dialog>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {flowRecord} from \"@/api/flowable/finished\";\r\nimport FlowUser from '@/components/flow/User'\r\nimport FlowRole from '@/components/flow/Role'\r\nimport {flowXmlAndNode} from \"@/api/flowable/definition\";\r\nimport {\r\n  complete,\r\n  rejectTask,\r\n  returnList,\r\n  returnTask,\r\n  getNextFlowNode,\r\n  delegate,\r\n  flowTaskForm\r\n} from \"@/api/flowable/todo\";\r\nimport BpmnViewer from '@/components/Process/viewer';\r\nimport \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\r\n\r\nexport default {\r\n  name: \"Record\",\r\n  components: {\r\n    BpmnViewer,\r\n    FlowUser,\r\n    FlowRole,\r\n  },\r\n  props: {},\r\n  data() {\r\n    return {\r\n      eventName: \"click\",\r\n      // 流程数据\r\n      flowData: {},\r\n      activeName: '1',\r\n      // 遮罩层\r\n      loading: true,\r\n      flowRecordList: [], // 流程流转数据\r\n      rules: {}, // 表单校验\r\n      taskForm: {\r\n        returnTaskShow: false, // 是否展示回退表单\r\n        delegateTaskShow: false, // 是否展示回退表单\r\n        defaultTaskShow: true, // 默认处理\r\n        comment: \"\", // 意见内容\r\n        procInsId: \"\", // 流程实例编号\r\n        instanceId: \"\", // 流程实例编号\r\n        deployId: \"\",  // 流程定义编号\r\n        taskId: \"\",// 流程任务编号\r\n        procDefId: \"\",  // 流程编号\r\n        targetKey: \"\",\r\n        variables: {},\r\n      },\r\n      returnTaskList: [],  // 回退列表数据\r\n      completeTitle: null,\r\n      completeOpen: false,\r\n      returnTitle: null,\r\n      returnOpen: false,\r\n      rejectOpen: false,\r\n      rejectTitle: null,\r\n      checkSendUser: false, // 是否展示人员选择模块\r\n      checkSendRole: false,// 是否展示角色选择模块\r\n      checkType: 'single', // 选择类型\r\n      taskName: null, // 任务节点\r\n      startUser: null, // 发起人信息,\r\n      multiInstanceVars: '', // 会签节点\r\n      formJson:{}\r\n    };\r\n  },\r\n  created() {\r\n    if (this.$route.query) {\r\n      this.taskName = this.$route.query.taskName;\r\n      this.startUser = this.$route.query.startUser;\r\n      this.taskForm.deployId = this.$route.query.deployId;\r\n      this.taskForm.taskId = this.$route.query.taskId;\r\n      this.taskForm.procInsId = this.$route.query.procInsId;\r\n      this.taskForm.executionId = this.$route.query.executionId;\r\n      this.taskForm.instanceId = this.$route.query.procInsId;\r\n      // 流程任务获取变量信息\r\n      if (this.taskForm.taskId) {\r\n        this.getFlowTaskForm(this.taskForm.taskId);\r\n      }\r\n      this.getFlowRecordList(this.taskForm.procInsId, this.taskForm.deployId);\r\n    }\r\n  },\r\n  methods: {\r\n    handleClick(tab, event) {\r\n      if (tab.name === '3') {\r\n        flowXmlAndNode({procInsId: this.taskForm.procInsId, deployId: this.taskForm.deployId}).then(res => {\r\n          this.flowData = res.data;\r\n        })\r\n      }\r\n    },\r\n    setIcon(val) {\r\n      if (val) {\r\n        return \"el-icon-check\";\r\n      } else {\r\n        return \"el-icon-time\";\r\n      }\r\n    },\r\n    setColor(val) {\r\n      if (val) {\r\n        return \"#2bc418\";\r\n      } else {\r\n        return \"#b3bdbb\";\r\n      }\r\n    },\r\n    // 用户信息选中数据\r\n    handleUserSelect(selection) {\r\n      if (selection) {\r\n        if (selection instanceof Array) {\r\n          const selectVal = selection.map(item => item.userId.toString());\r\n          if (this.multiInstanceVars) {\r\n            this.$set(this.taskForm.variables, this.multiInstanceVars,  selectVal);\r\n          } else {\r\n            this.$set(this.taskForm.variables, \"approval\", selectVal.join(','));\r\n          }\r\n        } else {\r\n          this.$set(this.taskForm.variables, \"approval\", selection.userId.toString());\r\n        }\r\n      }\r\n    },\r\n    // 角色信息选中数据\r\n    handleRoleSelect(selection, roleName) {\r\n      if (selection) {\r\n        if (selection instanceof Array) {\r\n          const selectVal = selection.map(item => item.roleId.toString());\r\n          this.$set(this.taskForm.variables, \"approval\", selectVal.join(','));\r\n        } else {\r\n          this.$set(this.taskForm.variables, \"approval\", selection);\r\n        }\r\n      }\r\n    },\r\n    /** 流程流转记录 */\r\n    getFlowRecordList(procInsId, deployId) {\r\n      const that = this\r\n      const params = {procInsId: procInsId, deployId: deployId}\r\n      flowRecord(params).then(res => {\r\n        that.flowRecordList = res.data.flowList;\r\n      }).catch(res => {\r\n        this.goBack();\r\n      })\r\n    },\r\n    /** 流程节点表单 */\r\n    getFlowTaskForm(taskId) {\r\n      if (taskId) {\r\n        // 提交流程申请时填写的表单存入了流程变量中后续任务处理时需要展示\r\n        flowTaskForm({taskId: taskId}).then(res => {\r\n          // 回显表单\r\n          this.$refs.vFormRef.setFormJson(res.data.formJson);\r\n          this.formJson = res.data.formJson;\r\n          this.$nextTick(() => {\r\n            // 加载表单填写的数据\r\n            this.$refs.vFormRef.setFormData(res.data);\r\n            // this.$nextTick(() => {\r\n            //   // 表单禁用\r\n            //   this.$refs.vFormRef.disableForm();\r\n            // })\r\n          })\r\n        });\r\n      }\r\n    },\r\n\r\n    /** 委派任务 */\r\n    handleDelegate() {\r\n      this.taskForm.delegateTaskShow = true;\r\n      this.taskForm.defaultTaskShow = false;\r\n    },\r\n    handleAssign() {\r\n\r\n    },\r\n    /** 返回页面 */\r\n    goBack() {\r\n      // 关闭当前标签页并返回上个页面\r\n      const obj = { path: \"/task/todo\", query: { t: Date.now()} };\r\n      this.$tab.closeOpenPage(obj);\r\n    },\r\n    /** 驳回任务 */\r\n    handleReject() {\r\n      this.rejectOpen = true;\r\n      this.rejectTitle = \"驳回流程\";\r\n    },\r\n    /** 驳回任务 */\r\n    taskReject() {\r\n      this.$refs[\"taskForm\"].validate(valid => {\r\n        if (valid) {\r\n          rejectTask(this.taskForm).then(res => {\r\n            this.$modal.msgSuccess(res.msg);\r\n            this.goBack();\r\n          });\r\n        }\r\n      });\r\n    },\r\n    /** 可退回任务列表 */\r\n    handleReturn() {\r\n      this.returnOpen = true;\r\n      this.returnTitle = \"退回流程\";\r\n      returnList(this.taskForm).then(res => {\r\n        this.returnTaskList = res.data;\r\n      })\r\n    },\r\n    /** 提交退回任务 */\r\n    taskReturn() {\r\n      this.$refs[\"taskForm\"].validate(valid => {\r\n        if (valid) {\r\n          returnTask(this.taskForm).then(res => {\r\n            this.$modal.msgSuccess(res.msg);\r\n            this.goBack()\r\n          });\r\n        }\r\n      });\r\n    },\r\n    /** 取消回退任务按钮 */\r\n    cancelTask() {\r\n      this.taskForm.returnTaskShow = false;\r\n      this.taskForm.defaultTaskShow = true;\r\n      this.returnTaskList = [];\r\n    },\r\n    /** 委派任务 */\r\n    submitDeleteTask() {\r\n      this.$refs[\"taskForm\"].validate(valid => {\r\n        if (valid) {\r\n          delegate(this.taskForm).then(response => {\r\n            this.$modal.msgSuccess(response.msg);\r\n            this.goBack();\r\n          });\r\n        }\r\n      });\r\n    },\r\n    /** 取消回退任务按钮 */\r\n    cancelDelegateTask() {\r\n      this.taskForm.delegateTaskShow = false;\r\n      this.taskForm.defaultTaskShow = true;\r\n      this.returnTaskList = [];\r\n    },\r\n    /** 加载审批任务弹框 */\r\n    handleComplete() {\r\n      this.completeOpen = true;\r\n      this.completeTitle = \"流程审批\";\r\n      this.submitForm();\r\n    },\r\n    /** 用户审批任务 */\r\n    taskComplete() {\r\n      if (!this.taskForm.variables && this.checkSendUser) {\r\n        this.$modal.msgError(\"请选择流程接收人员!\");\r\n        return;\r\n      }\r\n      if (!this.taskForm.variables && this.checkSendRole) {\r\n        this.$modal.msgError(\"请选择流程接收角色组!\");\r\n        return;\r\n      }\r\n      if (!this.taskForm.comment) {\r\n        this.$modal.msgError(\"请输入审批意见!\");\r\n        return;\r\n      }\r\n      if (this.taskForm) {\r\n        complete(this.taskForm).then(response => {\r\n          this.$modal.msgSuccess(response.msg);\r\n          this.goBack();\r\n        });\r\n      } else {\r\n        complete(this.taskForm).then(response => {\r\n          this.$modal.msgSuccess(response.msg);\r\n          this.goBack();\r\n        });\r\n      }\r\n    },\r\n    /** 申请流程表单数据提交 */\r\n    submitForm() {\r\n      // 根据当前任务或者流程设计配置的下一步节点 todo 暂时未涉及到考虑网关、表达式和多节点情况\r\n      const params = {taskId: this.taskForm.taskId}\r\n      getNextFlowNode(params).then(res => {\r\n        this.$refs.vFormRef.getFormData().then(formData => {\r\n          Object.assign(this.taskForm.variables, formData);\r\n          this.taskForm.variables.formJson = this.formJson;\r\n          console.log(this.taskForm, \"流程审批提交表单数据1\")\r\n        }).catch(error => {\r\n          // this.$modal.msgError(error)\r\n        })\r\n        const data = res.data;\r\n        if (data) {\r\n          if (data.dataType === 'dynamic') {\r\n            if (data.type === 'assignee') { // 指定人员\r\n              this.checkSendUser = true;\r\n              this.checkType = \"single\";\r\n            } else if (data.type === 'candidateUsers') {  // 候选人员(多个)\r\n              this.checkSendUser = true;\r\n              this.checkType = \"multiple\";\r\n            } else if (data.type === 'candidateGroups') { // 指定组(所属角色接收任务)\r\n              this.checkSendRole = true;\r\n            } else { // 会签\r\n              // 流程设计指定的 elementVariable 作为会签人员列表\r\n              this.multiInstanceVars = data.vars;\r\n              this.checkSendUser = true;\r\n              this.checkType = \"multiple\";\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 动态绑定操作按钮的点击事件\r\n    handleButtonClick(method) {\r\n      this[method]();\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.test-form {\r\n  margin: 15px auto;\r\n  width: 800px;\r\n  padding: 15px;\r\n}\r\n\r\n.clearfix:before,\r\n.clearfix:after {\r\n  display: table;\r\n  content: \"\";\r\n}\r\n\r\n.clearfix:after {\r\n  clear: both\r\n}\r\n\r\n.box-card {\r\n  width: 100%;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-tag + .el-tag {\r\n  margin-left: 10px;\r\n}\r\n\r\n.my-label {\r\n  background: #E1F3D8;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}