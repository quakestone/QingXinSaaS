{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\views\\flowable\\task\\flowForm\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\views\\flowable\\task\\flowForm\\index.vue","mtime":1733705220549},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\babel.config.js","mtime":1733705220203},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiKTsKdmFyIF9mb3JtID0gcmVxdWlyZSgiQC9hcGkvZmxvd2FibGUvZm9ybSIpOwp2YXIgX1N0clV0aWwgPSByZXF1aXJlKCJAL3V0aWxzL1N0clV0aWwiKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gewogIG5hbWU6ICJmbG93Rm9ybSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1UaXRsZTogIiIsCiAgICAgIGZvcm1PcGVuOiBmYWxzZSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgZm9ybU5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLooajljZXlkI3np7DkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHsKICAgICAgICBmb3JtSWQ6IG51bGwsCiAgICAgICAgZm9ybU5hbWU6IG51bGwsCiAgICAgICAgZm9ybUNvbnRlbnQ6IG51bGwsCiAgICAgICAgcmVtYXJrOiBudWxsCiAgICAgIH0sCiAgICAgIGRlc2lnbmVyQ29uZmlnOiB7CiAgICAgICAgZ2VuZXJhdGVTRkNCdXR0b246IGZhbHNlLAogICAgICAgIGV4cG9ydENvZGVCdXR0b246IGZhbHNlLAogICAgICAgIC8v5piv5ZCm5pi+56S65a+85Ye65Luj56CB5oyJ6ZKuCiAgICAgICAgdG9vbGJhck1heFdpZHRoOiAzMjAsCiAgICAgICAgdG9vbGJhck1pbldpZHRoOiAzMDAsCiAgICAgICAgLy/orr7orqHlmajlt6XlhbfmjInpkq7moI/mnIDlsI/lrr3luqbvvIjljZXkvY3lg4/ntKDvvIkKICAgICAgICBmb3JtSGVhZGVyOiBmYWxzZQogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICB2YXIgZm9ybUlkID0gdGhpcy4kcm91dGUucXVlcnkgJiYgdGhpcy4kcm91dGUucXVlcnkuZm9ybUlkOwogICAgaWYgKF9TdHJVdGlsLlN0clV0aWwuaXNOb3RCbGFuayhmb3JtSWQpKSB7CiAgICAgICgwLCBfZm9ybS5nZXRGb3JtKShmb3JtSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyDliqDovb3ooajljZVqc29u5pWw5o2uCiAgICAgICAgICBfdGhpcy4kcmVmcy52ZkRlc2lnbmVyLnNldEZvcm1Kc29uKEpTT04ucGFyc2UocmVzLmRhdGEuZm9ybUNvbnRlbnQpKTsKICAgICAgICB9KTsKICAgICAgICBfdGhpcy5mb3JtID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOWKoOi9veihqOWNlWpzb27mlbDmja4KICAgICAgICBfdGhpcy4kcmVmcy52ZkRlc2lnbmVyLnNldEZvcm1Kc29uKHsKICAgICAgICAgICJ3aWRnZXRMaXN0IjogW10sCiAgICAgICAgICAiZm9ybUNvbmZpZyI6IHsKICAgICAgICAgICAgIm1vZGVsTmFtZSI6ICJmb3JtRGF0YSIsCiAgICAgICAgICAgICJyZWZOYW1lIjogInZGb3JtIiwKICAgICAgICAgICAgInJ1bGVzTmFtZSI6ICJydWxlcyIsCiAgICAgICAgICAgICJsYWJlbFdpZHRoIjogODAsCiAgICAgICAgICAgICJsYWJlbFBvc2l0aW9uIjogImxlZnQiLAogICAgICAgICAgICAic2l6ZSI6ICIiLAogICAgICAgICAgICAibGFiZWxBbGlnbiI6ICJsYWJlbC1sZWZ0LWFsaWduIiwKICAgICAgICAgICAgImNzc0NvZGUiOiAiIiwKICAgICAgICAgICAgImN1c3RvbUNsYXNzIjogIiIsCiAgICAgICAgICAgICJmdW5jdGlvbnMiOiAiIiwKICAgICAgICAgICAgImxheW91dFR5cGUiOiAiUEMiLAogICAgICAgICAgICAib25Gb3JtQ3JlYXRlZCI6ICIiLAogICAgICAgICAgICAib25Gb3JtTW91bnRlZCI6ICIiLAogICAgICAgICAgICAib25Gb3JtRGF0YUNoYW5nZSI6ICIiLAogICAgICAgICAgICAib25Gb3JtVmFsaWRhdGUiOiAiIgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOS/neWtmOihqOWNleaVsOaNrgogICAgc2F2ZUZvcm1Kc29uOiBmdW5jdGlvbiBzYXZlRm9ybUpzb24oKSB7CiAgICAgIHZhciBmb3JtSnNvbiA9IHRoaXMuJHJlZnMudmZEZXNpZ25lci5nZXRGb3JtSnNvbigpOwogICAgICB0aGlzLmZvcm0uZm9ybUNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShmb3JtSnNvbik7CiAgICAgIHRoaXMuZm9ybU9wZW4gPSB0cnVlOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi9zdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzMi5mb3JtLmZvcm1JZCAhPSBudWxsKSB7CiAgICAgICAgICAgICgwLCBfZm9ybS51cGRhdGVGb3JtKShfdGhpczIuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBfdGhpczIuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuS/ruaUueaIkOWKnyIpOwogICAgICAgICAgICAgIF90aGlzMi5mb3JtT3BlbiA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICgwLCBfZm9ybS5hZGRGb3JtKShfdGhpczIuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBfdGhpczIuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuaWsOWinuaIkOWKnyIpOwogICAgICAgICAgICAgIF90aGlzMi5mb3JtT3BlbiA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIOWFs+mXreW9k+WJjeagh+etvumhteW5tui/lOWbnuS4iuS4qumhtemdogogICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgcGF0aDogIi9mbG93YWJsZS9mb3JtIiwKICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICB0OiBEYXRlLm5vdygpCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgICBfdGhpczIuJHRhYi5jbG9zZU9wZW5QYWdlKG9iaik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLmZvcm1PcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["_form","require","_StrUtil","name","data","formTitle","formOpen","rules","formName","required","message","trigger","form","formId","formContent","remark","designerConfig","generateSFCButton","exportCodeButton","toolbarMaxWidth","toolbarMinWidth","formHeader","mounted","_this","$route","query","StrUtil","isNotBlank","getForm","then","res","$nextTick","$refs","vfDesigner","setFormJson","JSON","parse","methods","saveFormJson","formJson","getFormJson","stringify","submitForm","_this2","validate","valid","updateForm","response","$modal","msgSuccess","addForm","obj","path","t","Date","now","$tab","closeOpenPage","cancel","reset"],"sources":["src/views/flowable/task/flowForm/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n  <v-form-designer ref=\"vfDesigner\" :designer-config=\"designerConfig\">\r\n    <!-- 保存按钮 -->\r\n    <template #customSaveButton>\r\n      <el-button type=\"text\" @click=\"saveFormJson\"><i class=\"el-icon-s-promotion\" />保存</el-button>\r\n    </template>\r\n  </v-form-designer>\r\n\r\n  <!--系统表单信息-->\r\n  <el-dialog :title=\"formTitle\" :visible.sync=\"formOpen\" width=\"500px\" append-to-body>\r\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n      <el-form-item label=\"表单名称\" prop=\"formName\">\r\n        <el-input v-model=\"form.formName\" placeholder=\"请输入表单名称\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"备注\" prop=\"remark\">\r\n        <el-input v-model=\"form.remark\" placeholder=\"请输入备注\" />\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n      <el-button @click=\"cancel\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {addForm, getForm, updateForm} from \"@/api/flowable/form\";\r\nimport { StrUtil } from '@/utils/StrUtil'\r\n\r\nexport default {\r\n  name: \"flowForm\",\r\n  data() {\r\n    return {\r\n      formTitle: \"\",\r\n      formOpen: false,\r\n      // 表单校验\r\n      rules: {\r\n        formName: [\r\n          { required: true, message: \"表单名称不能为空\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      // 表单参数\r\n      form: {\r\n        formId: null,\r\n        formName: null,\r\n        formContent: null,\r\n        remark: null\r\n      },\r\n      designerConfig: {\r\n        generateSFCButton: false,\r\n        exportCodeButton: false,  //是否显示导出代码按钮\r\n        toolbarMaxWidth: 320,\r\n        toolbarMinWidth: 300,  //设计器工具按钮栏最小宽度（单位像素）\r\n        formHeader: false,\r\n      },\r\n    }\r\n  },\r\n  mounted() {\r\n    const formId = this.$route.query && this.$route.query.formId;\r\n    if (StrUtil.isNotBlank(formId)) {\r\n      getForm(formId).then(res => {\r\n        this.$nextTick(() => {\r\n          // 加载表单json数据\r\n          this.$refs.vfDesigner.setFormJson(JSON.parse(res.data.formContent))\r\n        })\r\n        this.form = res.data;\r\n      })\r\n    }else {\r\n      this.$nextTick(() => {\r\n        // 加载表单json数据\r\n        this.$refs.vfDesigner.setFormJson({\"widgetList\":[],\"formConfig\":{\"modelName\":\"formData\",\"refName\":\"vForm\",\"rulesName\":\"rules\",\"labelWidth\":80,\"labelPosition\":\"left\",\"size\":\"\",\"labelAlign\":\"label-left-align\",\"cssCode\":\"\",\"customClass\":\"\",\"functions\":\"\",\"layoutType\":\"PC\",\"onFormCreated\":\"\",\"onFormMounted\":\"\",\"onFormDataChange\":\"\",\"onFormValidate\":\"\"}})\r\n      })\r\n    }\r\n  },\r\n  methods:{\r\n    // 保存表单数据\r\n    saveFormJson() {\r\n      let formJson = this.$refs.vfDesigner.getFormJson()\r\n      this.form.formContent = JSON.stringify(formJson);\r\n      this.formOpen = true;\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm() {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          if (this.form.formId != null) {\r\n            updateForm(this.form).then(response => {\r\n              this.$modal.msgSuccess(\"修改成功\");\r\n              this.formOpen = false;\r\n            });\r\n          } else {\r\n            addForm(this.form).then(response => {\r\n              this.$modal.msgSuccess(\"新增成功\");\r\n              this.formOpen = false;\r\n            });\r\n          }\r\n          // 关闭当前标签页并返回上个页面\r\n          const obj = { path: \"/flowable/form\", query: { t: Date.now()} };\r\n          this.$tab.closeOpenPage(obj);\r\n        }\r\n      });\r\n    },\r\n    // 取消按钮\r\n    cancel() {\r\n      this.formOpen = false;\r\n      this.reset();\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nbody {\r\n  margin: 0;  /* 如果页面出现垂直滚动条，则加入此行CSS以消除之 */\r\n}\r\n.el-container.main-container{\r\n  background: #fff;\r\n  margin-left: 0 !important;\r\n}\r\n\r\n</style>\r\n"],"mappings":";;;;;;;;AA4BA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;iCAEA;EACAE,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,QAAA;MACA;MACAC,KAAA;QACAC,QAAA,GACA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;MACA;MACAC,IAAA;QACAC,MAAA;QACAL,QAAA;QACAM,WAAA;QACAC,MAAA;MACA;MACAC,cAAA;QACAC,iBAAA;QACAC,gBAAA;QAAA;QACAC,eAAA;QACAC,eAAA;QAAA;QACAC,UAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA,IAAAV,MAAA,QAAAW,MAAA,CAAAC,KAAA,SAAAD,MAAA,CAAAC,KAAA,CAAAZ,MAAA;IACA,IAAAa,gBAAA,CAAAC,UAAA,CAAAd,MAAA;MACA,IAAAe,aAAA,EAAAf,MAAA,EAAAgB,IAAA,WAAAC,GAAA;QACAP,KAAA,CAAAQ,SAAA;UACA;UACAR,KAAA,CAAAS,KAAA,CAAAC,UAAA,CAAAC,WAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAN,GAAA,CAAA1B,IAAA,CAAAU,WAAA;QACA;QACAS,KAAA,CAAAX,IAAA,GAAAkB,GAAA,CAAA1B,IAAA;MACA;IACA;MACA,KAAA2B,SAAA;QACA;QACAR,KAAA,CAAAS,KAAA,CAAAC,UAAA,CAAAC,WAAA;UAAA;UAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;YAAA;UAAA;QAAA;MACA;IACA;EACA;EACAG,OAAA;IACA;IACAC,YAAA,WAAAA,aAAA;MACA,IAAAC,QAAA,QAAAP,KAAA,CAAAC,UAAA,CAAAO,WAAA;MACA,KAAA5B,IAAA,CAAAE,WAAA,GAAAqB,IAAA,CAAAM,SAAA,CAAAF,QAAA;MACA,KAAAjC,QAAA;IACA;IACA,WACAoC,UAAA,WAAAA,WAAA;MAAA,IAAAC,MAAA;MACA,KAAAX,KAAA,SAAAY,QAAA,WAAAC,KAAA;QACA,IAAAA,KAAA;UACA,IAAAF,MAAA,CAAA/B,IAAA,CAAAC,MAAA;YACA,IAAAiC,gBAAA,EAAAH,MAAA,CAAA/B,IAAA,EAAAiB,IAAA,WAAAkB,QAAA;cACAJ,MAAA,CAAAK,MAAA,CAAAC,UAAA;cACAN,MAAA,CAAArC,QAAA;YACA;UACA;YACA,IAAA4C,aAAA,EAAAP,MAAA,CAAA/B,IAAA,EAAAiB,IAAA,WAAAkB,QAAA;cACAJ,MAAA,CAAAK,MAAA,CAAAC,UAAA;cACAN,MAAA,CAAArC,QAAA;YACA;UACA;UACA;UACA,IAAA6C,GAAA;YAAAC,IAAA;YAAA3B,KAAA;cAAA4B,CAAA,EAAAC,IAAA,CAAAC,GAAA;YAAA;UAAA;UACAZ,MAAA,CAAAa,IAAA,CAAAC,aAAA,CAAAN,GAAA;QACA;MACA;IACA;IACA;IACAO,MAAA,WAAAA,OAAA;MACA,KAAApD,QAAA;MACA,KAAAqD,KAAA;IACA;EACA;AACA","ignoreList":[]}]}