{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\Process\\designer.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\Process\\designer.vue","mtime":1733705220387},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\babel.config.js","mtime":1733705220203},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9jaGVueGkvRGVza3RvcC9wcm8vUWluZ1hpblNhYVMvcWluZ3hpbnNhYXMtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5maW5kLmpzIik7CnZhciBfZXhlY3V0aW9uTGlzdGVuZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vcGFuZWwvZXhlY3V0aW9uTGlzdGVuZXIiKSk7CnZhciBfdGFza0xpc3RlbmVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL3BhbmVsL3Rhc2tMaXN0ZW5lciIpKTsKdmFyIF9tdWx0aUluc3RhbmNlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL3BhbmVsL211bHRpSW5zdGFuY2UiKSk7CnZhciBfY29tbW9uUGFuZWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vcGFuZWwvY29tbW9uUGFuZWwiKSk7CnZhciBfdGFza1BhbmVsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL3BhbmVsL3Rhc2tQYW5lbCIpKTsKdmFyIF9jb25kaXRpb25QYW5lbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9wYW5lbC9jb25kaXRpb25QYW5lbCIpKTsKdmFyIF9mb3JtUGFuZWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vcGFuZWwvZm9ybVBhbmVsIikpOwp2YXIgX290aGVyUGFuZWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vcGFuZWwvb3RoZXJQYW5lbCIpKTsKdmFyIF9Qcm9wZXJ0aWVzUGFuZWwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vcGFuZWwvUHJvcGVydGllc1BhbmVsIikpOwp2YXIgX2JwbW5VdGlscyA9IHJlcXVpcmUoIi4vY29tbW9uL2JwbW5VdGlscyIpOwp2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL2NvbXBvbmVudHMvZmxvdy9Vc2VyL2luZGV4LnZ1ZSIpKTsKdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvY29tcG9uZW50cy9mbG93L1JvbGUvaW5kZXgudnVlIikpOwp2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9jb21wb25lbnRzL2Zsb3cvRXhwcmVzc2lvbi9pbmRleC52dWUiKSk7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHsKICBuYW1lOiAiRGVzaWduZXIiLAogIGNvbXBvbmVudHM6IHsKICAgIEV4ZWN1dGlvbkxpc3RlbmVyOiBfZXhlY3V0aW9uTGlzdGVuZXIuZGVmYXVsdCwKICAgIFRhc2tMaXN0ZW5lcjogX3Rhc2tMaXN0ZW5lci5kZWZhdWx0LAogICAgTXVsdGlJbnN0YW5jZTogX211bHRpSW5zdGFuY2UuZGVmYXVsdCwKICAgIENvbW1vblBhbmVsOiBfY29tbW9uUGFuZWwuZGVmYXVsdCwKICAgIFVzZXJUYXNrUGFuZWw6IF90YXNrUGFuZWwuZGVmYXVsdCwKICAgIENvbmRpdGlvblBhbmVsOiBfY29uZGl0aW9uUGFuZWwuZGVmYXVsdCwKICAgIEZvcm1QYW5lbDogX2Zvcm1QYW5lbC5kZWZhdWx0LAogICAgT3RoZXJQYW5lbDogX290aGVyUGFuZWwuZGVmYXVsdCwKICAgIFByb3BlcnRpZXNQYW5lbDogX1Byb3BlcnRpZXNQYW5lbC5kZWZhdWx0LAogICAgRmxvd1VzZXI6IF9pbmRleC5kZWZhdWx0LAogICAgRmxvd1JvbGU6IF9pbmRleDIuZGVmYXVsdCwKICAgIEZsb3dFeHA6IF9pbmRleDMuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZU5hbWU6ICdjb21tb24nLAogICAgICBleGVjdXRpb25MaXN0ZW5lckNvdW50OiAwLAogICAgICB0YXNrTGlzdGVuZXJDb3VudDogMCwKICAgICAgZWxlbWVudElkOiAiIiwKICAgICAgZWxlbWVudFR5cGU6ICIiLAogICAgICBjb25kaXRpb25WaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g5rWB6L2s5p2h5Lu26K6+572uCiAgICAgIGZvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g6KGo5Y2V6YWN572uCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgaWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfoioLngrlJZCDkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+iKgueCueWQjeensOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgLyoqIOS8oOWAvOebkeWQrCAqLwogIHdhdGNoOiB7CiAgICBlbGVtZW50SWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLmFjdGl2ZU5hbWUgPSAiY29tbW9uIjsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdE1vZGVscygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yid5aeL5YyW5rWB56iL6K6+6K6h5ZmoCiAgICBpbml0TW9kZWxzOiBmdW5jdGlvbiBpbml0TW9kZWxzKCkgewogICAgICB0aGlzLmdldEFjdGl2ZUVsZW1lbnQoKTsKICAgIH0sCiAgICAvLyDms6jlhozoioLngrnkuovku7YKICAgIGdldEFjdGl2ZUVsZW1lbnQ6IGZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIC8vIOWIneWni+esrOS4gOS4qumAieS4reWFg+e0oCBicG1uOlByb2Nlc3MKICAgICAgdGhpcy5pbml0Rm9ybU9uQ2hhbmdlZChudWxsKTsKICAgICAgdGhpcy5tb2RlbGVyU3RvcmUubW9kZWxlci5vbigiaW1wb3J0LmRvbmUiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLmluaXRGb3JtT25DaGFuZ2VkKG51bGwpOwogICAgICB9KTsKICAgICAgLy8g55uR5ZCs6YCJ5oup5LqL5Lu277yM5L+u5pS55b2T5YmN5r+A5rS755qE5YWD57Sg5Lul5Y+K6KGo5Y2VCiAgICAgIHRoaXMubW9kZWxlclN0b3JlLm1vZGVsZXIub24oInNlbGVjdGlvbi5jaGFuZ2VkIiwgZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgbmV3U2VsZWN0aW9uID0gX3JlZi5uZXdTZWxlY3Rpb247CiAgICAgICAgX3RoaXMuaW5pdEZvcm1PbkNoYW5nZWQobmV3U2VsZWN0aW9uWzBdIHx8IG51bGwpOwogICAgICB9KTsKICAgICAgdGhpcy5tb2RlbGVyU3RvcmUubW9kZWxlci5vbigiZWxlbWVudC5jaGFuZ2VkIiwgZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIGVsZW1lbnQgPSBfcmVmMi5lbGVtZW50OwogICAgICAgIC8vIOS/neivgSDkv67mlLkgIum7mOiupOa1gei9rOi3r+W+hCIg57G75Ly86ZyA6KaB5L+u5pS55aSa5Liq5YWD57Sg55qE5LqL5Lu25Y+R55Sf55qE5pe25YCZ77yM5pu05paw6KGo5Y2V55qE5YWD57Sg5LiO5Y6f6YCJ5Lit5YWD57Sg5LiN5LiA6Ie044CCCiAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5pZCA9PT0gX3RoaXMuZWxlbWVudElkKSB7CiAgICAgICAgICBfdGhpcy5pbml0Rm9ybU9uQ2hhbmdlZChlbGVtZW50KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIneWni+WMluaVsOaNrgogICAgaW5pdEZvcm1PbkNoYW5nZWQ6IGZ1bmN0aW9uIGluaXRGb3JtT25DaGFuZ2VkKGVsZW1lbnQpIHsKICAgICAgdmFyIGFjdGl2YXRlZEVsZW1lbnQgPSBlbGVtZW50OwogICAgICBpZiAoIWFjdGl2YXRlZEVsZW1lbnQpIHsKICAgICAgICB2YXIgX3RoaXMkbW9kZWxlclN0b3JlJGVsOwogICAgICAgIGFjdGl2YXRlZEVsZW1lbnQgPSAoX3RoaXMkbW9kZWxlclN0b3JlJGVsID0gdGhpcy5tb2RlbGVyU3RvcmUuZWxSZWdpc3RyeS5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgcmV0dXJuIGVsLnR5cGUgPT09ICJicG1uOlByb2Nlc3MiOwogICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfdGhpcyRtb2RlbGVyU3RvcmUkZWwgIT09IHZvaWQgMCA/IF90aGlzJG1vZGVsZXJTdG9yZSRlbCA6IHRoaXMubW9kZWxlclN0b3JlLmVsUmVnaXN0cnkuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIHJldHVybiBlbC50eXBlID09PSAiYnBtbjpDb2xsYWJvcmF0aW9uIjsKICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAoIWFjdGl2YXRlZEVsZW1lbnQpIHJldHVybjsKICAgICAgdGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudCA9IGFjdGl2YXRlZEVsZW1lbnQ7CiAgICAgIHRoaXMuZWxlbWVudElkID0gYWN0aXZhdGVkRWxlbWVudC5pZDsKICAgICAgdGhpcy5lbGVtZW50VHlwZSA9IGFjdGl2YXRlZEVsZW1lbnQudHlwZS5zcGxpdCgiOiIpWzFdIHx8ICIiOwogICAgICB0aGlzLmNvbmRpdGlvblZpc2libGUgPSAhISh0aGlzLmVsZW1lbnRUeXBlID09PSAiU2VxdWVuY2VGbG93IiAmJiBhY3RpdmF0ZWRFbGVtZW50LnNvdXJjZSAmJiBhY3RpdmF0ZWRFbGVtZW50LnNvdXJjZS50eXBlLmluZGV4T2YoIlN0YXJ0RXZlbnQiKSA9PT0gLTEpOwogICAgICB0aGlzLmZvcm1WaXNpYmxlID0gdGhpcy5lbGVtZW50VHlwZSA9PT0gIlVzZXJUYXNrIiB8fCB0aGlzLmVsZW1lbnRUeXBlID09PSAiU3RhcnRFdmVudCI7CiAgICB9LAogICAgLyoqIOiOt+WPluaJp+ihjOebkeWQrOWZqOaVsOmHjyAqL2dldEV4ZWN1dGlvbkxpc3RlbmVyQ291bnQ6IGZ1bmN0aW9uIGdldEV4ZWN1dGlvbkxpc3RlbmVyQ291bnQodmFsdWUpIHsKICAgICAgdGhpcy5leGVjdXRpb25MaXN0ZW5lckNvdW50ID0gdmFsdWU7CiAgICB9LAogICAgLyoqIOiOt+WPluS7u+WKoeebkeWQrOWZqOaVsOmHjyAqL2dldFRhc2tMaXN0ZW5lckNvdW50OiBmdW5jdGlvbiBnZXRUYXNrTGlzdGVuZXJDb3VudCh2YWx1ZSkgewogICAgICB0aGlzLnRhc2tMaXN0ZW5lckNvdW50ID0gdmFsdWU7CiAgICB9LAogICAgdHJhbnNsYXRlTm9kZU5hbWU6IGZ1bmN0aW9uIHRyYW5zbGF0ZU5vZGVOYW1lKHZhbCkgewogICAgICByZXR1cm4gKDAsIF9icG1uVXRpbHMudHJhbnNsYXRlTm9kZU5hbWUpKHZhbCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_executionListener","_interopRequireDefault","require","_taskListener","_multiInstance","_commonPanel","_taskPanel","_conditionPanel","_formPanel","_otherPanel","_PropertiesPanel","_bpmnUtils","_index","_index2","_index3","name","components","ExecutionListener","TaskListener","MultiInstance","CommonPanel","UserTaskPanel","ConditionPanel","FormPanel","OtherPanel","PropertiesPanel","FlowUser","FlowRole","FlowExp","data","activeName","executionListenerCount","taskListenerCount","elementId","elementType","conditionVisible","formVisible","rules","id","required","message","trigger","watch","handler","created","initModels","methods","getActiveElement","_this","initFormOnChanged","modelerStore","modeler","on","e","_ref","newSelection","_ref2","element","activatedElement","_this$modelerStore$el","elRegistry","find","el","type","split","source","indexOf","getExecutionListenerCount","value","getTaskListenerCount","translateNodeName","val"],"sources":["src/components/Process/designer.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <template slot=\"header\">\r\n      <div class=\"card-header\">\r\n        <span>{{ translateNodeName(elementType) }}</span>\r\n      </div>\r\n    </template>\r\n    <el-collapse v-model=\"activeName\" >\r\n        <!--   常规信息     -->\r\n        <el-collapse-item name=\"common\">\r\n          <template slot=\"title\"><i class=\"el-icon-info\"></i> 常规信息</template>\r\n          <common-panel :id=\"elementId\"/>\r\n        </el-collapse-item>\r\n\r\n        <!--   任务信息     -->\r\n        <el-collapse-item name=\"Task\" v-if=\"elementType.indexOf('Task') !== -1\">\r\n          <template slot=\"title\"><i class=\"el-icon-s-claim\"></i> 任务配置</template>\r\n          <user-task-panel :id=\"elementId\"/>\r\n        </el-collapse-item>\r\n\r\n        <!--   表单     -->\r\n        <el-collapse-item name=\"form\" v-if=\"formVisible\">\r\n          <template slot=\"title\"><i class=\"el-icon-s-order\"></i> 表单配置</template>\r\n          <form-panel :id=\"elementId\"/>\r\n        </el-collapse-item>\r\n\r\n        <!--   执行监听器     -->\r\n        <el-collapse-item name=\"executionListener\">\r\n          <template slot=\"title\"><i class=\"el-icon-s-promotion\"></i> 执行监听器\r\n             <el-badge :value=\"executionListenerCount\" class=\"item\" type=\"primary\"/>\r\n           </template>\r\n          <execution-listener :id=\"elementId\" @getExecutionListenerCount=\"getExecutionListenerCount\"/>\r\n        </el-collapse-item>\r\n\r\n        <!--   任务监听器     -->\r\n        <el-collapse-item name=\"taskListener\" v-if=\"elementType === 'UserTask'\" >\r\n          <template slot=\"title\"><i class=\"el-icon-s-flag\"></i> 任务监听器\r\n            <el-badge :value=\"taskListenerCount\" class=\"item\" type=\"primary\"/>\r\n          </template>\r\n          <task-listener :id=\"elementId\" @getTaskListenerCount=\"getTaskListenerCount\"/>\r\n        </el-collapse-item>\r\n\r\n        <!--   多实例     -->\r\n        <el-collapse-item name=\"multiInstance\" v-if=\"elementType.indexOf('Task') !== -1\" >\r\n          <template slot=\"title\"><i class=\"el-icon-s-grid\"></i> 多实例</template>\r\n          <multi-instance :id=\"elementId\"/>\r\n        </el-collapse-item>\r\n        <!--   流转条件     -->\r\n        <el-collapse-item name=\"condition\" v-if=\"conditionVisible\" >\r\n          <template slot=\"title\"><i class=\"el-icon-share\"></i> 流转条件</template>\r\n          <condition-panel :id=\"elementId\"/>\r\n        </el-collapse-item>\r\n\r\n        <!--   扩展属性     -->\r\n        <el-collapse-item name=\"properties\" >\r\n          <template slot=\"title\"><i class=\"el-icon-circle-plus\"></i> 扩展属性</template>\r\n          <properties-panel :id=\"elementId\"/>\r\n        </el-collapse-item>\r\n\r\n    </el-collapse>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ExecutionListener from './panel/executionListener'\r\nimport TaskListener from './panel/taskListener'\r\nimport MultiInstance from './panel/multiInstance'\r\nimport CommonPanel from './panel/commonPanel'\r\nimport UserTaskPanel from './panel/taskPanel'\r\nimport ConditionPanel from './panel/conditionPanel'\r\nimport FormPanel from './panel/formPanel'\r\nimport OtherPanel from './panel/otherPanel'\r\nimport PropertiesPanel from './panel/PropertiesPanel'\r\n\r\nimport { translateNodeName } from \"./common/bpmnUtils\";\r\nimport FlowUser from \"@/components/flow/User/index.vue\";\r\nimport FlowRole from \"@/components/flow/Role/index.vue\";\r\nimport FlowExp from \"@/components/flow/Expression/index.vue\";\r\nexport default {\r\n  name: \"Designer\",\r\n  components: {\r\n    ExecutionListener,\r\n    TaskListener,\r\n    MultiInstance,\r\n    CommonPanel,\r\n    UserTaskPanel,\r\n    ConditionPanel,\r\n    FormPanel,\r\n    OtherPanel,\r\n    PropertiesPanel,\r\n    FlowUser,\r\n    FlowRole,\r\n    FlowExp,\r\n  },\r\n  data() {\r\n    return {\r\n      activeName : 'common',\r\n      executionListenerCount: 0,\r\n      taskListenerCount:0,\r\n      elementId:\"\",\r\n      elementType:\"\",\r\n      conditionVisible:false,// 流转条件设置\r\n      formVisible:false, // 表单配置\r\n      rules:{\r\n        id: [\r\n          { required: true, message: '节点Id 不能为空', trigger: 'blur' },\r\n        ],\r\n        name: [\r\n          { required: true, message: '节点名称不能为空', trigger: 'blur' },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n\r\n  /** 传值监听 */\r\n  watch: {\r\n    elementId: {\r\n      handler() {\r\n        this.activeName = \"common\";\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.initModels();\r\n  },\r\n  methods: {\r\n    // 初始化流程设计器\r\n    initModels() {\r\n      this.getActiveElement();\r\n    },\r\n\r\n    // 注册节点事件\r\n    getActiveElement() {\r\n      // 初始第一个选中元素 bpmn:Process\r\n      this.initFormOnChanged(null);\r\n      this.modelerStore.modeler.on(\"import.done\", e => {\r\n        this.initFormOnChanged(null);\r\n      });\r\n      // 监听选择事件，修改当前激活的元素以及表单\r\n      this.modelerStore.modeler.on(\"selection.changed\", ({newSelection}) => {\r\n        this.initFormOnChanged(newSelection[0] || null);\r\n      });\r\n      this.modelerStore.modeler.on(\"element.changed\", ({element}) => {\r\n        // 保证 修改 \"默认流转路径\" 类似需要修改多个元素的事件发生的时候，更新表单的元素与原选中元素不一致。\r\n        if (element && element.id === this.elementId) {\r\n          this.initFormOnChanged(element);\r\n        }\r\n      });\r\n    },\r\n\r\n    // 初始化数据\r\n    initFormOnChanged(element) {\r\n      let activatedElement = element;\r\n      if (!activatedElement) {\r\n        activatedElement =\r\n          this.modelerStore.elRegistry.find(el => el.type === \"bpmn:Process\") ??\r\n          this.modelerStore.elRegistry.find(el => el.type === \"bpmn:Collaboration\");\r\n      }\r\n      if (!activatedElement) return;\r\n      this.modelerStore.element = activatedElement;\r\n      this.elementId = activatedElement.id;\r\n      this.elementType = activatedElement.type.split(\":\")[1] || \"\";\r\n      this.conditionVisible = !!(\r\n        this.elementType === \"SequenceFlow\" &&\r\n        activatedElement.source &&\r\n        activatedElement.source.type.indexOf(\"StartEvent\") === -1\r\n      );\r\n      this.formVisible = this.elementType === \"UserTask\" || this.elementType === \"StartEvent\";\r\n    },\r\n\r\n    /** 获取执行监听器数量 */\r\n    getExecutionListenerCount(value) {\r\n      this.executionListenerCount = value;\r\n    },\r\n    /** 获取任务监听器数量 */\r\n    getTaskListenerCount(value) {\r\n      this.taskListenerCount = value;\r\n    },\r\n    translateNodeName(val){\r\n      return translateNodeName(val);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}