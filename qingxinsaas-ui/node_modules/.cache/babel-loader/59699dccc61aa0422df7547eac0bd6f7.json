{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\Process\\panel\\conditionPanel.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\Process\\panel\\conditionPanel.vue","mtime":1733705220395},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\babel.config.js","mtime":1733705220203},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9jaGVueGkvRGVza3RvcC9wcm8vUWluZ1hpblNhYVMvcWluZ3hpbnNhYXMtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfb2JqZWN0U3ByZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvY2hlbnhpL0Rlc2t0b3AvcHJvL1FpbmdYaW5TYWFTL3Fpbmd4aW5zYWFzLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CnZhciBfU3RyVXRpbCA9IHJlcXVpcmUoIkAvdXRpbHMvU3RyVXRpbCIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgbmFtZTogIkJwbW5Nb2RlbCIsCiAgLyoqIOe7hOS7tuS8oOWAvCAgKi8KICBwcm9wczogewogICAgaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJwbW5FbGVtZW50U291cmNlOiB7fSwKICAgICAgYnBtbkVsZW1lbnRTb3VyY2VSZWY6IHt9LAogICAgICBicG1uRm9ybURhdGE6IHt9CiAgICB9OwogIH0sCiAgLyoqIOS8oOWAvOebkeWQrCAqLwogIHdhdGNoOiB7CiAgICBpZDogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCkgewogICAgICAgIGlmIChfU3RyVXRpbC5TdHJVdGlsLmlzTm90QmxhbmsobmV3VmFsKSkgewogICAgICAgICAgdGhpcy5yZXNldEZsb3dDb25kaXRpb24oKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSAvLyDnq4vljbPnlJ/mlYgKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvLyDmlrnms5XljLoKICAgIHJlc2V0Rmxvd0NvbmRpdGlvbjogZnVuY3Rpb24gcmVzZXRGbG93Q29uZGl0aW9uKCkgewogICAgICB0aGlzLmJwbW5Gb3JtRGF0YSA9IHsKICAgICAgICBib2R5OiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMuYnBtbkVsZW1lbnRTb3VyY2UgPSB0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LnNvdXJjZTsKICAgICAgdGhpcy5icG1uRWxlbWVudFNvdXJjZVJlZiA9IHRoaXMubW9kZWxlclN0b3JlLmVsZW1lbnQuYnVzaW5lc3NPYmplY3Quc291cmNlUmVmOwogICAgICBpZiAodGhpcy5icG1uRWxlbWVudFNvdXJjZVJlZiAmJiB0aGlzLmJwbW5FbGVtZW50U291cmNlUmVmLmRlZmF1bHQgJiYgdGhpcy5icG1uRWxlbWVudFNvdXJjZVJlZi5kZWZhdWx0LmlkID09PSB0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LmlkKSB7CiAgICAgICAgLy8g6buY6K6kCiAgICAgICAgdGhpcy4kc2V0KHRoaXMuYnBtbkZvcm1EYXRhLCAidHlwZSIsICJkZWZhdWx0Iik7CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMubW9kZWxlclN0b3JlLmVsZW1lbnQuYnVzaW5lc3NPYmplY3QuY29uZGl0aW9uRXhwcmVzc2lvbikgewogICAgICAgIC8vIOaZrumAmgogICAgICAgIHRoaXMuJHNldCh0aGlzLmJwbW5Gb3JtRGF0YSwgInR5cGUiLCAibm9ybWFsIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5bim5p2h5Lu2CiAgICAgICAgdmFyIGNvbmRpdGlvbkV4cHJlc3Npb24gPSB0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LmJ1c2luZXNzT2JqZWN0LmNvbmRpdGlvbkV4cHJlc3Npb247CiAgICAgICAgdGhpcy5icG1uRm9ybURhdGEgPSAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCBjb25kaXRpb25FeHByZXNzaW9uKSwge30sIHsKICAgICAgICAgIHR5cGU6ICJjb25kaXRpb24iCiAgICAgICAgfSk7CiAgICAgICAgLy8gcmVzb3VyY2Ug5Y+v55u05o6l5qCH6K+GIOaYr+WQpuaYr+WklumDqOi1hOa6kOiEmuacrAogICAgICAgIGlmICh0aGlzLmJwbW5Gb3JtRGF0YS5yZXNvdXJjZSkgewogICAgICAgICAgdGhpcy4kc2V0KHRoaXMuYnBtbkZvcm1EYXRhLCAiY29uZGl0aW9uVHlwZSIsICJzY3JpcHQiKTsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmJwbW5Gb3JtRGF0YSwgInNjcmlwdFR5cGUiLCAiZXh0ZXJuYWxTY3JpcHQiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbmRpdGlvbkV4cHJlc3Npb24ubGFuZ3VhZ2UpIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmJwbW5Gb3JtRGF0YSwgImNvbmRpdGlvblR5cGUiLCAic2NyaXB0Iik7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5icG1uRm9ybURhdGEsICJzY3JpcHRUeXBlIiwgImlubGluZVNjcmlwdCIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLiRzZXQodGhpcy5icG1uRm9ybURhdGEsICJjb25kaXRpb25UeXBlIiwgImV4cHJlc3Npb24iKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUZsb3dUeXBlOiBmdW5jdGlvbiB1cGRhdGVGbG93VHlwZShmbG93VHlwZSkgewogICAgICAvLyDmraPluLjmnaHku7bnsbsKICAgICAgaWYgKGZsb3dUeXBlID09PSAiY29uZGl0aW9uIikgewogICAgICAgIHZhciBmbG93Q29uZGl0aW9uUmVmID0gdGhpcy5tb2RlbGVyU3RvcmUubW9kZGxlLmNyZWF0ZSgiYnBtbjpGb3JtYWxFeHByZXNzaW9uIik7CiAgICAgICAgdGhpcy5tb2RlbGVyU3RvcmUubW9kZWxpbmcudXBkYXRlUHJvcGVydGllcyh0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LCB7CiAgICAgICAgICBjb25kaXRpb25FeHByZXNzaW9uOiBmbG93Q29uZGl0aW9uUmVmCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOm7mOiupOi3r+W+hAogICAgICBpZiAoZmxvd1R5cGUgPT09ICJkZWZhdWx0IikgewogICAgICAgIHRoaXMubW9kZWxlclN0b3JlLm1vZGVsaW5nLnVwZGF0ZVByb3BlcnRpZXModGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudCwgewogICAgICAgICAgY29uZGl0aW9uRXhwcmVzc2lvbjogbnVsbAogICAgICAgIH0pOwogICAgICAgIHRoaXMubW9kZWxlclN0b3JlLm1vZGVsaW5nLnVwZGF0ZVByb3BlcnRpZXModGhpcy5icG1uRWxlbWVudFNvdXJjZSwgewogICAgICAgICAgZGVmYXVsdDogdGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudAogICAgICAgIH0pOwogICAgICAgIC8vIOa4heepuuadoeS7tuagvOW8jwogICAgICAgIHRoaXMuYnBtbkZvcm1EYXRhLmNvbmRpdGlvblR5cGUgPSBudWxsOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAvLyDmuIXnqbrmnaHku7bmoLzlvI8KICAgICAgdGhpcy5icG1uRm9ybURhdGEuY29uZGl0aW9uVHlwZSA9IG51bGw7CiAgICAgIC8vIOato+W4uOi3r+W+hO+8jOWmguaenOadpea6kOiKgueCueeahOm7mOiupOi3r+W+hOaYr+W9k+WJjei/nue6v+aXtu+8jOa4hemZpOeItuWFg+e0oOeahOm7mOiupOi3r+W+hOmFjee9rgogICAgICBpZiAodGhpcy5icG1uRWxlbWVudFNvdXJjZVJlZi5kZWZhdWx0ICYmIHRoaXMuYnBtbkVsZW1lbnRTb3VyY2VSZWYuZGVmYXVsdC5pZCA9PT0gdGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudC5pZCkgewogICAgICAgIHRoaXMubW9kZWxlclN0b3JlLm1vZGVsaW5nLnVwZGF0ZVByb3BlcnRpZXModGhpcy5icG1uRWxlbWVudFNvdXJjZSwgewogICAgICAgICAgZGVmYXVsdDogbnVsbAogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMubW9kZWxlclN0b3JlLm1vZGVsaW5nLnVwZGF0ZVByb3BlcnRpZXModGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudCwgewogICAgICAgIGNvbmRpdGlvbkV4cHJlc3Npb246IG51bGwKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlRmxvd0NvbmRpdGlvbjogZnVuY3Rpb24gdXBkYXRlRmxvd0NvbmRpdGlvbigpIHsKICAgICAgdmFyIF90aGlzJGJwbW5Gb3JtRGF0YSA9IHRoaXMuYnBtbkZvcm1EYXRhLAogICAgICAgIGNvbmRpdGlvblR5cGUgPSBfdGhpcyRicG1uRm9ybURhdGEuY29uZGl0aW9uVHlwZSwKICAgICAgICBzY3JpcHRUeXBlID0gX3RoaXMkYnBtbkZvcm1EYXRhLnNjcmlwdFR5cGUsCiAgICAgICAgYm9keSA9IF90aGlzJGJwbW5Gb3JtRGF0YS5ib2R5LAogICAgICAgIHJlc291cmNlID0gX3RoaXMkYnBtbkZvcm1EYXRhLnJlc291cmNlLAogICAgICAgIGxhbmd1YWdlID0gX3RoaXMkYnBtbkZvcm1EYXRhLmxhbmd1YWdlOwogICAgICB2YXIgY29uZGl0aW9uOwogICAgICBpZiAoY29uZGl0aW9uVHlwZSA9PT0gImV4cHJlc3Npb24iKSB7CiAgICAgICAgY29uZGl0aW9uID0gdGhpcy5tb2RlbGVyU3RvcmUubW9kZGxlLmNyZWF0ZSgiYnBtbjpGb3JtYWxFeHByZXNzaW9uIiwgewogICAgICAgICAgYm9keTogYm9keQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChzY3JpcHRUeXBlID09PSAiaW5saW5lU2NyaXB0IikgewogICAgICAgICAgY29uZGl0aW9uID0gdGhpcy5tb2RlbGVyU3RvcmUubW9kZGxlLmNyZWF0ZSgiYnBtbjpGb3JtYWxFeHByZXNzaW9uIiwgewogICAgICAgICAgICBib2R5OiBib2R5LAogICAgICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy4kc2V0KHRoaXMuYnBtbkZvcm1EYXRhLCAicmVzb3VyY2UiLCAiIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmJwbW5Gb3JtRGF0YSwgImJvZHkiLCAiIik7CiAgICAgICAgICBjb25kaXRpb24gPSB0aGlzLm1vZGVsZXJTdG9yZS5tb2RkbGUuY3JlYXRlKCJicG1uOkZvcm1hbEV4cHJlc3Npb24iLCB7CiAgICAgICAgICAgIHJlc291cmNlOiByZXNvdXJjZSwKICAgICAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5tb2RlbGVyU3RvcmUubW9kZWxpbmcudXBkYXRlUHJvcGVydGllcyh0aGlzLm1vZGVsZXJTdG9yZS5lbGVtZW50LCB7CiAgICAgICAgY29uZGl0aW9uRXhwcmVzc2lvbjogY29uZGl0aW9uCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["_StrUtil","require","name","props","id","type","String","required","data","bpmnElementSource","bpmnElementSourceRef","bpmnFormData","watch","handler","newVal","StrUtil","isNotBlank","resetFlowCondition","immediate","created","methods","body","modelerStore","element","source","businessObject","sourceRef","default","$set","conditionExpression","_objectSpread2","resource","language","updateFlowType","flowType","flowConditionRef","moddle","create","modeling","updateProperties","conditionType","updateFlowCondition","_this$bpmnFormData","scriptType","condition"],"sources":["src/components/Process/panel/conditionPanel.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-form label-width=\"100px\" size=\"small\" @submit.native.prevent>\r\n      <el-form-item>\r\n        <template slot=\"label\">\r\n            <span>\r\n               流转类型\r\n               <el-tooltip placement=\"top\">\r\n                  <template slot=\"content\">\r\n                     <div>\r\n                              普通流转路径：流程执行过程中，一个元素被访问后，会沿着其所有出口顺序流继续执行。\r\n                        <br />默认流转路径：只有当没有其他顺序流可以选择时，才会选择默认顺序流作为活动的出口顺序流。流程会忽略默认顺序流上的条件。\r\n                        <br />条件流转路径：是计算其每个出口顺序流上的条件。当条件计算为true时，选择该出口顺序流。如果该方法选择了多条顺序流，则会生成多个执行，流程会以并行方式继续。\r\n                     </div>\r\n                  </template>\r\n                  <i class=\"el-icon-question\" />\r\n               </el-tooltip>\r\n            </span>\r\n        </template>\r\n        <el-select v-model=\"bpmnFormData.type\" @change=\"updateFlowType\">\r\n          <el-option label=\"普通流转路径\" value=\"normal\" />\r\n          <el-option label=\"默认流转路径\" value=\"default\" />\r\n          <el-option label=\"条件流转路径\" value=\"condition\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"条件格式\" v-if=\"bpmnFormData.type === 'condition'\" key=\"condition\">\r\n        <el-select v-model=\"bpmnFormData.conditionType\">\r\n          <el-option label=\"表达式\" value=\"expression\" />\r\n          <el-option label=\"脚本\" value=\"script\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"表达式\" v-if=\"bpmnFormData.conditionType && bpmnFormData.conditionType === 'expression'\" key=\"express\">\r\n        <el-input v-model=\"bpmnFormData.body\" clearable @change=\"updateFlowCondition\" />\r\n      </el-form-item>\r\n      <template v-if=\"bpmnFormData.conditionType && bpmnFormData.conditionType === 'script'\">\r\n        <el-form-item label=\"脚本语言\" key=\"language\">\r\n          <el-input v-model=\"bpmnFormData.language\" clearable @change=\"updateFlowCondition\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"脚本类型\" key=\"scriptType\">\r\n          <el-select v-model=\"bpmnFormData.scriptType\">\r\n            <el-option label=\"内联脚本\" value=\"inlineScript\" />\r\n            <el-option label=\"外部脚本\" value=\"externalScript\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"脚本\" v-if=\"bpmnFormData.scriptType === 'inlineScript'\" key=\"body\">\r\n          <el-input v-model=\"bpmnFormData.body\" type=\"textarea\" clearable @change=\"updateFlowCondition\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"资源地址\" v-if=\"bpmnFormData.scriptType === 'externalScript'\" key=\"resource\">\r\n          <el-input v-model=\"bpmnFormData.resource\" clearable @change=\"updateFlowCondition\" />\r\n        </el-form-item>\r\n      </template>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {StrUtil} from \"@/utils/StrUtil\";\r\nexport default {\r\n  name: \"BpmnModel\",\r\n  /** 组件传值  */\r\n  props : {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      bpmnElementSource: {},\r\n      bpmnElementSourceRef: {},\r\n      bpmnFormData: {}\r\n    }\r\n  },\r\n\r\n  /** 传值监听 */\r\n  watch: {\r\n    id: {\r\n      handler(newVal) {\r\n        if (StrUtil.isNotBlank(newVal)) {\r\n          this.resetFlowCondition();\r\n        }\r\n      },\r\n      immediate: true, // 立即生效\r\n    },\r\n  },\r\n  created() {\r\n\r\n  },\r\n  methods: {\r\n    // 方法区\r\n    resetFlowCondition() {\r\n      this.bpmnFormData = {\r\n        body: null\r\n      };\r\n      this.bpmnElementSource = this.modelerStore.element.source;\r\n      this.bpmnElementSourceRef = this.modelerStore.element.businessObject.sourceRef;\r\n      if (this.bpmnElementSourceRef && this.bpmnElementSourceRef.default && this.bpmnElementSourceRef.default.id === this.modelerStore.element.id) {\r\n        // 默认\r\n        this.$set(this.bpmnFormData, \"type\", \"default\");\r\n      } else if (!this.modelerStore.element.businessObject.conditionExpression) {\r\n        // 普通\r\n        this.$set(this.bpmnFormData, \"type\", \"normal\");\r\n      } else {\r\n        // 带条件\r\n        const conditionExpression = this.modelerStore.element.businessObject.conditionExpression;\r\n        this.bpmnFormData = {...conditionExpression, type: \"condition\"};\r\n        // resource 可直接标识 是否是外部资源脚本\r\n        if (this.bpmnFormData.resource) {\r\n          this.$set(this.bpmnFormData, \"conditionType\", \"script\");\r\n          this.$set(this.bpmnFormData, \"scriptType\", \"externalScript\");\r\n          return;\r\n        }\r\n        if (conditionExpression.language) {\r\n          this.$set(this.bpmnFormData, \"conditionType\", \"script\");\r\n          this.$set(this.bpmnFormData, \"scriptType\", \"inlineScript\");\r\n          return;\r\n        }\r\n        this.$set(this.bpmnFormData, \"conditionType\", \"expression\");\r\n      }\r\n    },\r\n\r\n    updateFlowType(flowType) {\r\n      // 正常条件类\r\n      if (flowType === \"condition\") {\r\n        const flowConditionRef = this.modelerStore.moddle.create(\"bpmn:FormalExpression\");\r\n        this.modelerStore.modeling.updateProperties(this.modelerStore.element, {\r\n          conditionExpression: flowConditionRef\r\n        });\r\n        return;\r\n      }\r\n      // 默认路径\r\n      if (flowType === \"default\") {\r\n        this.modelerStore.modeling.updateProperties(this.modelerStore.element, {\r\n          conditionExpression: null\r\n        });\r\n        this.modelerStore.modeling.updateProperties(this.bpmnElementSource, {\r\n          default: this.modelerStore.element\r\n        });\r\n        // 清空条件格式\r\n        this.bpmnFormData.conditionType = null;\r\n        return;\r\n      }\r\n      // 清空条件格式\r\n      this.bpmnFormData.conditionType = null;\r\n      // 正常路径，如果来源节点的默认路径是当前连线时，清除父元素的默认路径配置\r\n      if (this.bpmnElementSourceRef.default && this.bpmnElementSourceRef.default.id === this.modelerStore.element.id) {\r\n        this.modelerStore.modeling.updateProperties(this.bpmnElementSource, {\r\n          default: null\r\n        });\r\n      }\r\n      this.modelerStore.modeling.updateProperties(this.modelerStore.element, {\r\n        conditionExpression: null\r\n      });\r\n    },\r\n\r\n    updateFlowCondition() {\r\n      let {conditionType, scriptType, body, resource, language} = this.bpmnFormData;\r\n      let condition;\r\n      if (conditionType === \"expression\") {\r\n        condition = this.modelerStore.moddle.create(\"bpmn:FormalExpression\", {body});\r\n      } else {\r\n        if (scriptType === \"inlineScript\") {\r\n          condition = this.modelerStore.moddle.create(\"bpmn:FormalExpression\", {body, language});\r\n          this.$set(this.bpmnFormData, \"resource\", \"\");\r\n        } else {\r\n          this.$set(this.bpmnFormData, \"body\", \"\");\r\n          condition = this.modelerStore.moddle.create(\"bpmn:FormalExpression\", {resource, language});\r\n        }\r\n      }\r\n      this.modelerStore.modeling.updateProperties(this.modelerStore.element, {conditionExpression: condition});\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}