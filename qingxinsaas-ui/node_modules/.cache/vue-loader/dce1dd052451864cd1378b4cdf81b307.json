{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\flow\\ElInputTag\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\flow\\ElInputTag\\index.vue","mtime":1733705220418},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge1N0clV0aWx9IGZyb20gJ0AvdXRpbHMvU3RyVXRpbCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiRWxJbnB1dFRhZyIsDQogIC8qKiDnu4Tku7bkvKDlgLwgICovDQogIHByb3BzIDogew0KICAgIHZhbHVlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAiIg0KICAgIH0sDQogICAgYWRkVGFnT25LZXlzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdDQogICAgfSwNCiAgICBzaXplOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnc21hbGwnDQogICAgfSwNCiAgICBwbGFjZWhvbGRlcjogU3RyaW5nLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAgbmV3VGFnIDoiIiwNCiAgICAgICBpbm5lclRhZ3MgOltdLA0KICAgICAgIHJlYWRPbmx5IDp0cnVlLA0KICAgIH0NCiAgfSwNCiAgLyoqIOS8oOWAvOebkeWQrCAqLw0KICB3YXRjaDogew0KICAgIHZhbHVlOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbCkgew0KICAgICAgICBpZiAoU3RyVXRpbC5pc05vdEJsYW5rKG5ld1ZhbCkpIHsNCiAgICAgICAgICB0aGlzLmlubmVyVGFncyA9IG5ld1ZhbC5zcGxpdCgnLCcpOw0KICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgdGhpcy5pbm5lclRhZ3MgPSBbXTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwgLy8g56uL5Y2z55Sf5pWIDQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGZvY3VzVGFnSW5wdXQoKSB7DQogICAgICBpZiAodGhpcy5yZWFkT25seSB8fCAhdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLnRhZy1pbnB1dCcpKSB7DQogICAgICAgIHJldHVybg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLnRhZy1pbnB1dCcpLmZvY3VzKCkNCiAgICAgIH0NCiAgICB9LA0KDQogICAgaW5wdXRUYWcoZXYpIHsNCiAgICAgdGhpcy5uZXdUYWcgPSBldi50YXJnZXQudmFsdWUNCiAgICB9LA0KDQogICAgYWRkTmV3KGUpIHsNCiAgICAgIGlmIChlICYmICghdGhpcy5hZGRUYWdPbktleXMuaW5jbHVkZXMoZS5rZXlDb2RlKSkgJiYgKGUudHlwZSAhPT0gJ2JsdXInKSkgew0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGlmIChlKSB7DQogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCkNCiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpDQogICAgICB9DQogICAgICBsZXQgYWRkU3VjY2VzcyA9IGZhbHNlDQogICAgICBpZiAodGhpcy5uZXdUYWcuaW5jbHVkZXMoJywnKSkgew0KICAgICAgIHRoaXMubmV3VGFnLnNwbGl0KCcsJykuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICBpZiAodGhpcy5hZGRUYWcoaXRlbS50cmltKCkpKSB7DQogICAgICAgICAgICBhZGRTdWNjZXNzID0gdHJ1ZQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICh0aGlzLmFkZFRhZyh0aGlzLm5ld1RhZy50cmltKCkpKSB7DQogICAgICAgICAgYWRkU3VjY2VzcyA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKGFkZFN1Y2Nlc3MpIHsNCiAgICAgICAgdGhpcy50YWdDaGFuZ2UoKQ0KICAgICAgIHRoaXMubmV3VGFnID0gJycNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYWRkVGFnKHRhZykgew0KICAgICAgdGFnID0gdGFnLnRyaW0oKQ0KICAgICAgaWYgKHRhZyAmJiAhdGhpcy5pbm5lclRhZ3MuaW5jbHVkZXModGFnKSkgew0KICAgICAgICB0aGlzLmlubmVyVGFncy5wdXNoKHRhZykNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0NCiAgICAgIHJldHVybiBmYWxzZQ0KICAgIH0sDQoNCiAgICByZW1vdmUoaW5kZXgpIHsNCiAgICAgIHRoaXMuaW5uZXJUYWdzLnNwbGljZShpbmRleCwgMSkNCiAgICAgIHRoaXMudGFnQ2hhbmdlKCk7DQogICAgfSwNCg0KICAgIHJlbW92ZUxhc3RUYWcoKSB7DQogICAgICBpZiAodGhpcy5uZXdUYWcpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICB0aGlzLmlubmVyVGFncy5wb3AoKQ0KICAgICAgdGhpcy50YWdDaGFuZ2UoKQ0KICAgIH0sDQoNCiAgICB0YWdDaGFuZ2UoKSB7DQogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMuaW5uZXJUYWdzKQ0KICAgIH0NCiAgfQ0KfQ0KDQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/flow/ElInputTag","sourcesContent":["<template>\r\n  <div\r\n      class=\"el-input-tag input-tag-wrapper\"\r\n      :class=\"[size ? 'el-input-tag--' + size : '']\"\r\n      @click=\"focusTagInput\">\r\n    <el-tag\r\n        v-for=\"(tag, idx) in innerTags\"\r\n        v-bind=\"$attrs\"\r\n        :key=\"tag\"\r\n        :size=\"size\"\r\n        effect=\"dark\"\r\n        closable\r\n        :disable-transitions=\"false\"\r\n        @close=\"remove(idx)\">\r\n      {{tag}}\r\n    </el-tag>\r\n    <input\r\n        v-if=\"!readOnly\"\r\n        class=\"tag-input\"\r\n        :placeholder=\"placeholder\"\r\n        @input=\"inputTag\"\r\n        :value=\"newTag\"\r\n        @keydown.delete.stop = \"removeLastTag\"\r\n    />\r\n<!--    @keydown = \"addNew\"\r\n        @blur = \"addNew\"-->\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {StrUtil} from '@/utils/StrUtil'\r\n\r\nexport default {\r\n  name: \"ElInputTag\",\r\n  /** 组件传值  */\r\n  props : {\r\n    value: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    addTagOnKeys: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: 'small'\r\n    },\r\n    placeholder: String,\r\n  },\r\n  data() {\r\n    return {\r\n       newTag :\"\",\r\n       innerTags :[],\r\n       readOnly :true,\r\n    }\r\n  },\r\n  /** 传值监听 */\r\n  watch: {\r\n    value: {\r\n      handler(newVal) {\r\n        if (StrUtil.isNotBlank(newVal)) {\r\n          this.innerTags = newVal.split(',');\r\n        }else {\r\n          this.innerTags = [];\r\n        }\r\n      },\r\n      immediate: true, // 立即生效\r\n    },\r\n  },\r\n  methods: {\r\n    focusTagInput() {\r\n      if (this.readOnly || !this.$el.querySelector('.tag-input')) {\r\n        return\r\n      } else {\r\n        this.$el.querySelector('.tag-input').focus()\r\n      }\r\n    },\r\n\r\n    inputTag(ev) {\r\n     this.newTag = ev.target.value\r\n    },\r\n\r\n    addNew(e) {\r\n      if (e && (!this.addTagOnKeys.includes(e.keyCode)) && (e.type !== 'blur')) {\r\n        return\r\n      }\r\n      if (e) {\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n      }\r\n      let addSuccess = false\r\n      if (this.newTag.includes(',')) {\r\n       this.newTag.split(',').forEach(item => {\r\n          if (this.addTag(item.trim())) {\r\n            addSuccess = true\r\n          }\r\n        })\r\n      } else {\r\n        if (this.addTag(this.newTag.trim())) {\r\n          addSuccess = true\r\n        }\r\n      }\r\n      if (addSuccess) {\r\n        this.tagChange()\r\n       this.newTag = ''\r\n      }\r\n    },\r\n\r\n    addTag(tag) {\r\n      tag = tag.trim()\r\n      if (tag && !this.innerTags.includes(tag)) {\r\n        this.innerTags.push(tag)\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n\r\n    remove(index) {\r\n      this.innerTags.splice(index, 1)\r\n      this.tagChange();\r\n    },\r\n\r\n    removeLastTag() {\r\n      if (this.newTag) {\r\n        return\r\n      }\r\n      this.innerTags.pop()\r\n      this.tagChange()\r\n    },\r\n\r\n    tagChange() {\r\n      this.$emit('input', this.innerTags)\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.el-form-item.is-error .el-input-tag {\r\n  border-color: #f56c6c;\r\n}\r\n.input-tag-wrapper {\r\n  position: relative;\r\n  font-size: 14px;\r\n  background-color: #fff;\r\n  background-image: none;\r\n  border-radius: 4px;\r\n  border: 1px solid #dcdfe6;\r\n  box-sizing: border-box;\r\n  color: #606266;\r\n  display: inline-block;\r\n  outline: none;\r\n  padding: 0 10px 0 5px;\r\n  transition: border-color .2s cubic-bezier(.645,.045,.355,1);\r\n  width: 100%;\r\n}\r\n.el-tag {\r\n  margin-right: 4px;\r\n}\r\n\r\n.tag-input {\r\n  background: transparent;\r\n  border: 0;\r\n  font-size: inherit;\r\n  outline: none;\r\n  padding-left: 0;\r\n  width: 100px;\r\n}\r\n.el-input-tag {\r\n  min-height: 42px;\r\n}\r\n.el-input-tag--small {\r\n  min-height: 32px;\r\n  line-height: 32px;\r\n  font-size: 12px;\r\n}\r\n\r\n.el-input-tag--default {\r\n  min-height: 34px;\r\n  line-height: 34px;\r\n}\r\n\r\n.el-input-tag--large {\r\n  min-height: 36px;\r\n  line-height: 36px;\r\n}\r\n\r\n</style>\r\n"]}]}