{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\Process\\panel\\formPanel.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\Process\\panel\\formPanel.vue","mtime":1733705220397},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7IGxpc3RBbGxGb3JtIH0gZnJvbSAnQC9hcGkvZmxvd2FibGUvZm9ybScNCmltcG9ydCB7U3RyVXRpbH0gZnJvbSAiQC91dGlscy9TdHJVdGlsIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkZvcm1QYW5lbCIsDQogIC8qKiDnu4Tku7bkvKDlgLwgICovDQogIHByb3BzIDogew0KICAgIGlkOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZvcm1MaXN0OiBbXSwgLy8g6KGo5Y2V5pWw5o2uDQogICAgICBicG1uRm9ybURhdGE6IHt9DQogICAgfQ0KICB9LA0KDQogIC8qKiDkvKDlgLznm5HlkKwgKi8NCiAgd2F0Y2g6IHsNCiAgICBpZDogew0KICAgICAgaGFuZGxlcihuZXdWYWwpIHsNCiAgICAgICAgaWYgKFN0clV0aWwuaXNOb3RCbGFuayhuZXdWYWwpKSB7DQogICAgICAgICAgLy8g5Yqg6L296KGo5Y2V5YiX6KGoDQogICAgICAgICAgdGhpcy5nZXRMaXN0Rm9ybSgpOw0KICAgICAgICAgIHRoaXMucmVzZXRGbG93Rm9ybSgpOw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlOiB0cnVlLCAvLyDnq4vljbPnlJ/mlYgNCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KDQogIH0sDQogIG1ldGhvZHM6IHsNCg0KICAgIC8vIOaWueazleWMug0KICAgIHJlc2V0Rmxvd0Zvcm0oKSB7DQogICAgICB0aGlzLmJwbW5Gb3JtRGF0YS5mb3JtS2V5ID0gdGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudC5idXNpbmVzc09iamVjdC5mb3JtS2V5Ow0KICAgIH0sDQoNCiAgICB1cGRhdGVFbGVtZW50Rm9ybUtleSh2YWwpIHsNCiAgICAgIGlmIChTdHJVdGlsLmlzQmxhbmsodmFsKSkgew0KICAgICAgICBkZWxldGUgdGhpcy5tb2RlbGVyU3RvcmUuZWxlbWVudC5idXNpbmVzc09iamVjdFtgZm9ybUtleWBdDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm1vZGVsZXJTdG9yZS5tb2RlbGluZy51cGRhdGVQcm9wZXJ0aWVzKHRoaXMubW9kZWxlclN0b3JlLmVsZW1lbnQsIHsnZm9ybUtleSc6IHZhbH0pOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvLyDojrflj5booajljZXkv6Hmga8NCiAgICBnZXRMaXN0Rm9ybSgpIHsNCiAgICAgIGxpc3RBbGxGb3JtKCkudGhlbihyZXMgPT4gew0KICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgIGl0ZW0uZm9ybUlkID0gaXRlbS5mb3JtSWQudG9TdHJpbmcoKTsNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5mb3JtTGlzdCA9IHJlcy5kYXRhOw0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg0KDQo="},{"version":3,"sources":["formPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"formPanel.vue","sourceRoot":"src/components/Process/panel","sourcesContent":["<template>\r\n  <div>\r\n    <el-form label-width=\"80px\" size=\"small\" @submit.native.prevent>\r\n      <el-form-item label=\"流程表单\">\r\n        <el-select v-model=\"bpmnFormData.formKey\" clearable class=\"m-2\" placeholder=\"挂载节点表单\" @change=\"updateElementFormKey\">\r\n          <el-option\r\n              v-for=\"item in formList\"\r\n              :key=\"item.value\"\r\n              :label=\"item.formName\"\r\n              :value=\"item.formId\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { listAllForm } from '@/api/flowable/form'\r\nimport {StrUtil} from \"@/utils/StrUtil\";\r\nexport default {\r\n  name: \"FormPanel\",\r\n  /** 组件传值  */\r\n  props : {\r\n    id: {\r\n      type: String,\r\n      required: true\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      formList: [], // 表单数据\r\n      bpmnFormData: {}\r\n    }\r\n  },\r\n\r\n  /** 传值监听 */\r\n  watch: {\r\n    id: {\r\n      handler(newVal) {\r\n        if (StrUtil.isNotBlank(newVal)) {\r\n          // 加载表单列表\r\n          this.getListForm();\r\n          this.resetFlowForm();\r\n        }\r\n      },\r\n      immediate: true, // 立即生效\r\n    },\r\n  },\r\n  created() {\r\n\r\n  },\r\n  methods: {\r\n\r\n    // 方法区\r\n    resetFlowForm() {\r\n      this.bpmnFormData.formKey = this.modelerStore.element.businessObject.formKey;\r\n    },\r\n\r\n    updateElementFormKey(val) {\r\n      if (StrUtil.isBlank(val)) {\r\n        delete this.modelerStore.element.businessObject[`formKey`]\r\n      } else {\r\n        this.modelerStore.modeling.updateProperties(this.modelerStore.element, {'formKey': val});\r\n      }\r\n    },\r\n\r\n    // 获取表单信息\r\n    getListForm() {\r\n      listAllForm().then(res => {\r\n        res.data.forEach(item => {\r\n          item.formId = item.formId.toString();\r\n        })\r\n        this.formList = res.data;\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n"]}]}