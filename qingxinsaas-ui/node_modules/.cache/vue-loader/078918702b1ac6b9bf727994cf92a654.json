{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\views\\WxLogin.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\views\\WxLogin.vue","mtime":1733728625507},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiV3hMb2dpbiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHFyQ29kZVVybDogJycsICAvLyDlrZjlgqjlvq7kv6HnmbvlvZXkuoznu7TnoIHlm77niYfnmoTlnLDlnYAKICAgICAgd3hMb2dpbkZvcm06IHsKICAgICAgICBzZWxlY3RlZFRlbmFudDogJycgIC8vIOmAieS4reeahOenn+aIt2lkCiAgICAgIH0sCiAgICAgIHd4TG9naW5SdWxlczogewogICAgICAgIC8vIOi/memHjOWPr+S7peagueaNruWunumZhemcgOaxgua3u+WKoOWvueenn+aIt+mAieaLqeeahOagoemqjOinhOWIme+8jOavlOWmguW/heWhq+etiQogICAgICB9LAogICAgICB0ZW5hbnRMaXN0OiBbXSAgLy8g56ef5oi35YiX6KGo77yM5LuO5ZCO56uv6I635Y+WCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VGVuYW50TGlzdCgpCiAgICB0aGlzLmdldFd4UXJDb2RlKCkgIC8vIOmhtemdouWKoOi9veaXtuiOt+WPluW+ruS/oeeZu+W9leS6jOe7tOeggQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W56ef5oi35YiX6KGo5pa55rOV77yM5ZKM5LmL5YmN55m75b2V6aG16Z2i57G75Ly877yM6LCD55So5ZCO56uv5o6l5Y+j6I635Y+W56ef5oi35L+h5oGvCiAgICBnZXRUZW5hbnRMaXN0KCkgewogICAgICBheGlvcy5nZXQoJy9hcGkvdGVuYW50L2xpc3QnKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy50ZW5hbnRMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAvLyDlpITnkIbojrflj5blpLHotKXnmoTmg4XlhrXvvIzmr5TlpoLmj5DnpLrnlKjmiLcKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bnp5/miLfliJfooajlpLHotKXvvIzor7fnqI3lkI7lho3or5UnKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5b6u5L+h55m75b2V5LqM57u056CB55qE5pa55rOV77yM6LCD55So5ZCO56uv5o6l5Y+j55Sf5oiQ5bm26L+U5Zue5LqM57u056CB5Zu+54mH5Zyw5Z2ACiAgICBnZXRXeFFyQ29kZSgpIHsKICAgICAgYXhpb3MuZ2V0KCcvYXBpL3d4TG9naW4nKS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy8g5YGH6K6+5ZCO56uv6L+U5Zue55qE5bCx5piv5LqM57u056CB5Zu+54mH55qE5Y+v6K6/6Zeu5Zyw5Z2A77yM5qC55o2u5a6e6ZmF5oOF5Ya16LCD5pW05aSE55CG6YC76L6RCiAgICAgICAgdGhpcy5xckNvZGVVcmwgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluW+ruS/oeeZu+W9leS6jOe7tOeggeWksei0pe+8jOivt+eojeWQjuWGjeivlScpOwogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["WxLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"WxLogin.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"wx-login\">\r\n      <el-form ref=\"wxLoginForm\" :model=\"wxLoginForm\" :rules=\"wxLoginRules\" class=\"wx-login-form\">\r\n        <!-- 多租户选择下拉框 -->\r\n        <el-form-item>\r\n          <el-select v-model=\"selectedTenant\" placeholder=\"请选择租户\">\r\n            <el-option\r\n              v-for=\"tenant in tenantList\"\r\n              :key=\"tenant.id\"\r\n              :label=\"tenant.name\"\r\n              :value=\"tenant.id\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <!-- 用于展示微信登录二维码的区域 -->\r\n        <div class=\"qr-code-container\">\r\n          <img :src=\"qrCodeUrl\" alt=\"微信登录二维码\" />\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios'\r\n  \r\n  export default {\r\n    name: \"WxLogin\",\r\n    data() {\r\n      return {\r\n        qrCodeUrl: '',  // 存储微信登录二维码图片的地址\r\n        wxLoginForm: {\r\n          selectedTenant: ''  // 选中的租户id\r\n        },\r\n        wxLoginRules: {\r\n          // 这里可以根据实际需求添加对租户选择的校验规则，比如必填等\r\n        },\r\n        tenantList: []  // 租户列表，从后端获取\r\n      };\r\n    },\r\n    created() {\r\n      this.getTenantList()\r\n      this.getWxQrCode()  // 页面加载时获取微信登录二维码\r\n    },\r\n    methods: {\r\n      // 获取租户列表方法，和之前登录页面类似，调用后端接口获取租户信息\r\n      getTenantList() {\r\n        axios.get('/api/tenant/list').then(res => {\r\n          this.tenantList = res.data;\r\n        }).catch(() => {\r\n          // 处理获取失败的情况，比如提示用户\r\n          this.$message.error('获取租户列表失败，请稍后再试');\r\n        });\r\n      },\r\n      // 获取微信登录二维码的方法，调用后端接口生成并返回二维码图片地址\r\n      getWxQrCode() {\r\n        axios.get('/api/wxLogin').then(res => {\r\n          // 假设后端返回的就是二维码图片的可访问地址，根据实际情况调整处理逻辑\r\n          this.qrCodeUrl = res.data;\r\n        }).catch(() => {\r\n          this.$message.error('获取微信登录二维码失败，请稍后再试');\r\n        });\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .wx-login {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100%;\r\n  }\r\n  .wx-login-form {\r\n    border-radius: 6px;\r\n    background: #ffffff;\r\n    width: 400px;\r\n    padding: 25px;\r\n  }\r\n  .qr-code-container {\r\n    text-align: center;\r\n    margin-top: 20px;\r\n  }\r\n  .qr-code-container img {\r\n    width: 200px;\r\n    height: 200px;\r\n  }\r\n  </style>"]}]}