{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\views\\wxLogin.vue?vue&type=style&index=0&id=176c0044&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\views\\wxLogin.vue","mtime":1733730798685},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoud3gtbG9naW4gewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBoZWlnaHQ6IDEwMCU7Cn0KLnd4LWxvZ2luLWZvcm0gewogIGJvcmRlci1yYWRpdXM6IDZweDsKICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogIHdpZHRoOiA0MDBweDsKICBwYWRkaW5nOiAyNXB4Owp9Ci5xci1jb2RlLWNvbnRhaW5lciB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbi10b3A6IDIwcHg7Cn0KLnFyLWNvZGUtY29udGFpbmVyIGltZyB7CiAgd2lkdGg6IDIwMHB4OwogIGhlaWdodDogMjAwcHg7Cn0K"},{"version":3,"sources":["wxLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wxLogin.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"wx-login\">\r\n      <el-form ref=\"wxLoginForm\" :model=\"wxLoginForm\" :rules=\"wxLoginRules\" class=\"wx-login-form\">\r\n        <!-- 多租户选择下拉框 -->\r\n        <el-form-item>\r\n          <el-select v-model=\"selectedTenant\" placeholder=\"请选择租户\">\r\n            <el-option\r\n              v-for=\"tenant in tenantList\"\r\n              :key=\"tenant.id\"\r\n              :label=\"tenant.name\"\r\n              :value=\"tenant.id\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <!-- 用于展示微信登录二维码的区域 -->\r\n        <div class=\"qr-code-container\">\r\n          <img :src=\"qrCodeUrl\" alt=\"微信登录二维码\" />\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios'\r\n  \r\n  export default {\r\n    name: \"WxLogin\",\r\n    data() {\r\n      return {\r\n        qrCodeUrl: '',  // 存储微信登录二维码图片的地址\r\n        wxLoginForm: {\r\n          selectedTenant: ''  // 选中的租户id\r\n        },\r\n        wxLoginRules: {\r\n          // 这里可以根据实际需求添加对租户选择的校验规则，比如必填等\r\n        },\r\n        tenantList: []  // 租户列表，从后端获取\r\n      };\r\n    },\r\n    created() {\r\n      this.getTenantList()\r\n      this.getWxQrCode()  // 页面加载时获取微信登录二维码\r\n    },\r\n    methods: {\r\n      // 获取租户列表方法，和之前登录页面类似，调用后端接口获取租户信息\r\n      getTenantList() {\r\n        axios.get('/api/tenant/list').then(res => {\r\n          this.tenantList = res.data;\r\n        }).catch(() => {\r\n          // 处理获取失败的情况，比如提示用户\r\n          this.$message.error('获取租户列表失败，请稍后再试');\r\n        });\r\n      },\r\n      // 获取微信登录二维码的方法，调用后端接口生成并返回二维码图片地址\r\n      getWxQrCode() {\r\n        axios.get('/api/wxLogin').then(res => {\r\n          // 假设后端返回的就是二维码图片的可访问地址，根据实际情况调整处理逻辑\r\n          this.qrCodeUrl = res.data;\r\n        }).catch(() => {\r\n          this.$message.error('获取微信登录二维码失败，请稍后再试');\r\n        });\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .wx-login {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100%;\r\n  }\r\n  .wx-login-form {\r\n    border-radius: 6px;\r\n    background: #ffffff;\r\n    width: 400px;\r\n    padding: 25px;\r\n  }\r\n  .qr-code-container {\r\n    text-align: center;\r\n    margin-top: 20px;\r\n  }\r\n  .qr-code-container img {\r\n    width: 200px;\r\n    height: 200px;\r\n  }\r\n  </style>"]}]}