{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\flow\\User\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\components\\flow\\User\\index.vue","mtime":1733705220421},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBsaXN0VXNlciwgZGVwdFRyZWVTZWxlY3QgfSBmcm9tICJAL2FwaS9zeXN0ZW0vdXNlciI7DQppbXBvcnQgVHJlZXNlbGVjdCBmcm9tICJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdCI7DQppbXBvcnQgIkByaW9waGFlL3Z1ZS10cmVlc2VsZWN0L2Rpc3QvdnVlLXRyZWVzZWxlY3QuY3NzIjsNCmltcG9ydCB7U3RyVXRpbH0gZnJvbSAnQC91dGlscy9TdHJVdGlsJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJGbG93VXNlciIsDQogIGRpY3RzOiBbJ3N5c19ub3JtYWxfZGlzYWJsZScsICdzeXNfdXNlcl9zZXgnXSwNCiAgY29tcG9uZW50czogeyBUcmVlc2VsZWN0IH0sDQogIC8vIOaOpeWPl+eItue7hOS7tueahOWAvA0KICBwcm9wczogew0KICAgIC8vIOWbnuaYvuaVsOaNruS8oOWAvA0KICAgIHNlbGVjdFZhbHVlczogew0KICAgICAgdHlwZTogTnVtYmVyIHwgU3RyaW5nIHwgQXJyYXksDQogICAgICBkZWZhdWx0OiBudWxsLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlDQogICAgfSwNCiAgICAvLyDooajmoLznsbvlnosNCiAgICBjaGVja1R5cGU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdtdWx0aXBsZScsDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOmBrue9qeWxgg0KICAgICAgbG9hZGluZzogdHJ1ZSwNCiAgICAgIC8vIOmAieS4reaVsOe7hA0KICAgICAgaWRzOiBbXSwNCiAgICAgIC8vIOmdnuWNleS4quemgeeUqA0KICAgICAgc2luZ2xlOiB0cnVlLA0KICAgICAgLy8g6Z2e5aSa5Liq56aB55SoDQogICAgICBtdWx0aXBsZTogdHJ1ZSwNCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tg0KICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwNCiAgICAgIC8vIOaAu+adoeaVsA0KICAgICAgdG90YWw6IDAsDQogICAgICAvLyDnlKjmiLfooajmoLzmlbDmja4NCiAgICAgIHVzZXJMaXN0OiBbXSwNCiAgICAgIC8vIOW8ueWHuuWxguagh+mimA0KICAgICAgdGl0bGU6ICIiLA0KICAgICAgLy8g6YOo6Zeo5qCR6YCJ6aG5DQogICAgICBkZXB0T3B0aW9uczogdW5kZWZpbmVkLA0KICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCDQogICAgICBvcGVuOiBmYWxzZSwNCiAgICAgIC8vIOmDqOmXqOWQjeensA0KICAgICAgZGVwdE5hbWU6IHVuZGVmaW5lZCwNCiAgICAgIC8vIOihqOWNleWPguaVsA0KICAgICAgZm9ybToge30sDQogICAgICBkZWZhdWx0UHJvcHM6IHsNCiAgICAgICAgY2hpbGRyZW46ICJjaGlsZHJlbiIsDQogICAgICAgIGxhYmVsOiAibGFiZWwiDQogICAgICB9LA0KICAgICAgLy8g5p+l6K+i5Y+C5pWwDQogICAgICBxdWVyeVBhcmFtczogew0KICAgICAgICBwYWdlTnVtOiAxLA0KICAgICAgICBwYWdlU2l6ZTogNSwNCiAgICAgICAgdXNlck5hbWU6IHVuZGVmaW5lZCwNCiAgICAgICAgcGhvbmVudW1iZXI6IHVuZGVmaW5lZCwNCiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQsDQogICAgICAgIGRlcHRJZDogdW5kZWZpbmVkDQogICAgICB9LA0KICAgICAgLy8g5YiX5L+h5oGvDQogICAgICBjb2x1bW5zOiBbDQogICAgICAgIHsga2V5OiAwLCBsYWJlbDogYOeUqOaIt+e8luWPt2AsIHZpc2libGU6IHRydWUgfSwNCiAgICAgICAgeyBrZXk6IDEsIGxhYmVsOiBg55So5oi35ZCN56ewYCwgdmlzaWJsZTogdHJ1ZSB9LA0KICAgICAgICB7IGtleTogMiwgbGFiZWw6IGDnlKjmiLfmmLXnp7BgLCB2aXNpYmxlOiB0cnVlIH0sDQogICAgICAgIHsga2V5OiAzLCBsYWJlbDogYOmDqOmXqGAsIHZpc2libGU6IHRydWUgfSwNCiAgICAgICAgeyBrZXk6IDQsIGxhYmVsOiBg5omL5py65Y+356CBYCwgdmlzaWJsZTogdHJ1ZSB9LA0KICAgICAgICB7IGtleTogNSwgbGFiZWw6IGDnirbmgIFgLCB2aXNpYmxlOiB0cnVlIH0sDQogICAgICAgIHsga2V5OiA2LCBsYWJlbDogYOWIm+W7uuaXtumXtGAsIHZpc2libGU6IHRydWUgfQ0KICAgICAgXSwNCiAgICAgIHJhZGlvU2VsZWN0ZWQ6IDAsIC8vIOWNlemAieahhuS8oOWAvA0KICAgICAgc2VsZWN0VXNlckxpc3Q6IFtdIC8vIOWbnuaYvuaVsOaNruS8oOWAvA0KICAgIH07DQogIH0sDQogIHdhdGNoOiB7DQogICAgLy8g5qC55o2u5ZCN56ew562b6YCJ6YOo6Zeo5qCRDQogICAgZGVwdE5hbWUodmFsKSB7DQogICAgICB0aGlzLiRyZWZzLnRyZWUuZmlsdGVyKHZhbCk7DQogICAgfSwNCiAgICBzZWxlY3RWYWx1ZXM6IHsNCiAgICAgIGhhbmRsZXIobmV3VmFsKSB7DQogICAgICAgIGlmIChTdHJVdGlsLmlzTm90QmxhbmsobmV3VmFsKSkgew0KICAgICAgICAgIGlmIChuZXdWYWwgaW5zdGFuY2VvZiBOdW1iZXIpIHsNCiAgICAgICAgICAgIHRoaXMucmFkaW9TZWxlY3RlZCA9IG5ld1ZhbA0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnNlbGVjdFVzZXJMaXN0ID0gbmV3VmFsOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQ0KICAgIH0sDQogICAgdXNlckxpc3Q6IHsNCiAgICAgIGhhbmRsZXIobmV3VmFsKSB7DQogICAgICAgIGRlYnVnZ2VyDQogICAgICAgIGlmIChTdHJVdGlsLmlzTm90QmxhbmsobmV3VmFsKSAmJiB0aGlzLnNlbGVjdFVzZXJMaXN0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5kYXRhVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsNCiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RVc2VyTGlzdD8uc3BsaXQoJywnKS5mb3JFYWNoKGtleSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5kYXRhVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKG5ld1ZhbC5maW5kKA0KICAgICAgICAgICAgICAgICAgaXRlbSA9PiBrZXkgPT0gaXRlbS51c2VySWQNCiAgICAgICAgICAgICAgICApLCB0cnVlKQ0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIHRoaXMuZ2V0RGVwdFRyZWUoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKiDmn6Xor6LnlKjmiLfliJfooaggKi8NCiAgICBnZXRMaXN0KCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGxpc3RVc2VyKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIHRoaXMudXNlckxpc3QgPSByZXNwb25zZS5yb3dzOw0KICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgKTsNCiAgICB9LA0KICAgIC8qKiDmn6Xor6Lpg6jpl6jkuIvmi4nmoJHnu5PmnoQgKi8NCiAgICBnZXREZXB0VHJlZSgpIHsNCiAgICAgIGRlcHRUcmVlU2VsZWN0KCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuZGVwdE9wdGlvbnMgPSByZXNwb25zZS5kYXRhOw0KICAgICAgfSk7DQogICAgfSwNCiAgICAvLyDkv53lrZjpgInkuK3nmoTmlbDmja5pZCxyb3cta2V55bCx5piv6KaB5oyH5a6a5LiA5Liqa2V55qCH6K+G6L+Z5LiA6KGM55qE5pWw5o2uDQogICAgZ2V0Um93S2V5IChyb3cpIHsNCiAgICAgIHJldHVybiByb3cuaWQNCiAgICB9LA0KICAgIC8vIOetm+mAieiKgueCuQ0KICAgIGZpbHRlck5vZGUodmFsdWUsIGRhdGEpIHsNCiAgICAgIGlmICghdmFsdWUpIHJldHVybiB0cnVlOw0KICAgICAgcmV0dXJuIGRhdGEubGFiZWwuaW5kZXhPZih2YWx1ZSkgIT09IC0xOw0KICAgIH0sDQogICAgLy8g6IqC54K55Y2V5Ye75LqL5Lu2DQogICAgaGFuZGxlTm9kZUNsaWNrKGRhdGEpIHsNCiAgICAgIHRoaXMucXVlcnlQYXJhbXMuZGVwdElkID0gZGF0YS5pZDsNCiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsNCiAgICB9LA0KICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrg0KICAgIGhhbmRsZU11bHRpcGxlVXNlclNlbGVjdChzZWxlY3Rpb24pIHsNCiAgICAgIHRoaXMuJGVtaXQoJ2hhbmRsZVVzZXJTZWxlY3QnLCBzZWxlY3Rpb24pOw0KICAgIH0sDQogICAgLy8g5Y2V6YCJ5qGG6YCJ5Lit5pWw5o2uDQogICAgaGFuZGxlU2luZ2xlVXNlclNlbGVjdChzZWxlY3Rpb24pIHsNCiAgICAgIHRoaXMucmFkaW9TZWxlY3RlZCA9IHNlbGVjdGlvbi51c2VySWQ7Ly/ngrnlh7vlvZPliY3ooYzml7YscmFkaW/lkIzmoLfmnInpgInkuK3mlYjmnpwNCiAgICAgIHRoaXMuJGVtaXQoJ2hhbmRsZVVzZXJTZWxlY3QnLCBzZWxlY3Rpb24pOw0KICAgIH0sDQogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLw0KICAgIGhhbmRsZVF1ZXJ5KCkgew0KICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsNCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIH0sDQogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLw0KICAgIHJlc2V0UXVlcnkoKSB7DQogICAgICB0aGlzLmRhdGVSYW5nZSA9IFtdOw0KICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybSIpOw0KICAgICAgdGhpcy5xdWVyeVBhcmFtcy5kZXB0SWQgPSB1bmRlZmluZWQ7DQogICAgICB0aGlzLiRyZWZzLnRyZWUuc2V0Q3VycmVudEtleShudWxsKTsNCiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsNCiAgICB9LA0KICB9DQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/flow/User","sourcesContent":["<template>\r\n  <div>\r\n    <el-row :gutter=\"20\">\r\n      <!--部门数据-->\r\n      <el-col :span=\"6\" :xs=\"24\">\r\n        <div class=\"head-container\">\r\n          <el-input\r\n            v-model=\"deptName\"\r\n            placeholder=\"请输入部门名称\"\r\n            clearable\r\n            size=\"small\"\r\n            prefix-icon=\"el-icon-search\"\r\n            style=\"margin-bottom: 20px\"\r\n          />\r\n        </div>\r\n        <div class=\"head-container\">\r\n          <el-tree\r\n            :data=\"deptOptions\"\r\n            :props=\"defaultProps\"\r\n            :expand-on-click-node=\"false\"\r\n            :filter-node-method=\"filterNode\"\r\n            ref=\"tree\"\r\n            node-key=\"id\"\r\n            default-expand-all\r\n            highlight-current\r\n            @node-click=\"handleNodeClick\"\r\n          />\r\n        </div>\r\n      </el-col>\r\n      <!--用户数据-->\r\n      <el-col :span=\"18\" :xs=\"24\">\r\n        <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n          <el-form-item label=\"用户名称\" prop=\"userName\">\r\n            <el-input\r\n              v-model=\"queryParams.userName\"\r\n              placeholder=\"请输入用户名称\"\r\n              clearable\r\n              style=\"width: 150px\"\r\n              @keyup.enter.native=\"handleQuery\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n            <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-table v-show=\"checkType === 'multiple'\" ref=\"dataTable\" v-loading=\"loading\" :row-key=\"getRowKey\" :data=\"userList\" @selection-change=\"handleMultipleUserSelect\">\r\n          <el-table-column type=\"selection\" :reserve-selection=\"true\" width=\"50\" align=\"center\" />\r\n          <el-table-column label=\"用户编号\" align=\"center\" key=\"userId\" prop=\"userId\" v-if=\"columns[0].visible\" />\r\n          <el-table-column label=\"登录账号\" align=\"center\" key=\"userName\" prop=\"userName\" v-if=\"columns[1].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"用户姓名\" align=\"center\" key=\"nickName\" prop=\"nickName\" v-if=\"columns[2].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"部门\" align=\"center\" key=\"deptName\" prop=\"dept.deptName\" v-if=\"columns[3].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"手机号码\" align=\"center\" key=\"phonenumber\" prop=\"phonenumber\" v-if=\"columns[4].visible\" width=\"120\" />\r\n        </el-table>\r\n        <el-table v-show=\"checkType === 'single'\" v-loading=\"loading\" :data=\"userList\" @current-change=\"handleSingleUserSelect\">\r\n          <el-table-column  width=\"55\" align=\"center\" >\r\n            <template slot-scope=\"scope\">\r\n              <el-radio v-model=\"radioSelected\" :label=\"scope.row.userId\">{{''}}</el-radio>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"用户编号\" align=\"center\" key=\"userId\" prop=\"userId\" v-if=\"columns[0].visible\" />\r\n          <el-table-column label=\"登录账号\" align=\"center\" key=\"userName\" prop=\"userName\" v-if=\"columns[1].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"用户姓名\" align=\"center\" key=\"nickName\" prop=\"nickName\" v-if=\"columns[2].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"部门\" align=\"center\" key=\"deptName\" prop=\"dept.deptName\" v-if=\"columns[3].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"手机号码\" align=\"center\" key=\"phonenumber\" prop=\"phonenumber\" v-if=\"columns[4].visible\" width=\"120\" />\r\n        </el-table>\r\n        <pagination\r\n          v-show=\"total>0\"\r\n          :total=\"total\"\r\n          :page-sizes=\"[5,10]\"\r\n          layout=\"prev, pager, next\"\r\n          :page.sync=\"queryParams.pageNum\"\r\n          :limit.sync=\"queryParams.pageSize\"\r\n          @pagination=\"getList\"\r\n        />\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listUser, deptTreeSelect } from \"@/api/system/user\";\r\nimport Treeselect from \"@riophae/vue-treeselect\";\r\nimport \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\r\nimport {StrUtil} from '@/utils/StrUtil'\r\n\r\nexport default {\r\n  name: \"FlowUser\",\r\n  dicts: ['sys_normal_disable', 'sys_user_sex'],\r\n  components: { Treeselect },\r\n  // 接受父组件的值\r\n  props: {\r\n    // 回显数据传值\r\n    selectValues: {\r\n      type: Number | String | Array,\r\n      default: null,\r\n      required: false\r\n    },\r\n    // 表格类型\r\n    checkType: {\r\n      type: String,\r\n      default: 'multiple',\r\n      required: true\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 选中数组\r\n      ids: [],\r\n      // 非单个禁用\r\n      single: true,\r\n      // 非多个禁用\r\n      multiple: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 用户表格数据\r\n      userList: [],\r\n      // 弹出层标题\r\n      title: \"\",\r\n      // 部门树选项\r\n      deptOptions: undefined,\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 部门名称\r\n      deptName: undefined,\r\n      // 表单参数\r\n      form: {},\r\n      defaultProps: {\r\n        children: \"children\",\r\n        label: \"label\"\r\n      },\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 5,\r\n        userName: undefined,\r\n        phonenumber: undefined,\r\n        status: undefined,\r\n        deptId: undefined\r\n      },\r\n      // 列信息\r\n      columns: [\r\n        { key: 0, label: `用户编号`, visible: true },\r\n        { key: 1, label: `用户名称`, visible: true },\r\n        { key: 2, label: `用户昵称`, visible: true },\r\n        { key: 3, label: `部门`, visible: true },\r\n        { key: 4, label: `手机号码`, visible: true },\r\n        { key: 5, label: `状态`, visible: true },\r\n        { key: 6, label: `创建时间`, visible: true }\r\n      ],\r\n      radioSelected: 0, // 单选框传值\r\n      selectUserList: [] // 回显数据传值\r\n    };\r\n  },\r\n  watch: {\r\n    // 根据名称筛选部门树\r\n    deptName(val) {\r\n      this.$refs.tree.filter(val);\r\n    },\r\n    selectValues: {\r\n      handler(newVal) {\r\n        if (StrUtil.isNotBlank(newVal)) {\r\n          if (newVal instanceof Number) {\r\n            this.radioSelected = newVal\r\n          } else {\r\n            this.selectUserList = newVal;\r\n          }\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    userList: {\r\n      handler(newVal) {\r\n        debugger\r\n        if (StrUtil.isNotBlank(newVal) && this.selectUserList.length > 0) {\r\n            this.$nextTick(() => {\r\n              this.$refs.dataTable.clearSelection();\r\n              this.selectUserList?.split(',').forEach(key => {\r\n                this.$refs.dataTable.toggleRowSelection(newVal.find(\r\n                  item => key == item.userId\r\n                ), true)\r\n              });\r\n            });\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getList();\r\n    this.getDeptTree();\r\n  },\r\n  methods: {\r\n    /** 查询用户列表 */\r\n    getList() {\r\n      this.loading = true;\r\n      listUser(this.queryParams).then(response => {\r\n          this.userList = response.rows;\r\n          this.total = response.total;\r\n          this.loading = false;\r\n        }\r\n      );\r\n    },\r\n    /** 查询部门下拉树结构 */\r\n    getDeptTree() {\r\n      deptTreeSelect().then(response => {\r\n        this.deptOptions = response.data;\r\n      });\r\n    },\r\n    // 保存选中的数据id,row-key就是要指定一个key标识这一行的数据\r\n    getRowKey (row) {\r\n      return row.id\r\n    },\r\n    // 筛选节点\r\n    filterNode(value, data) {\r\n      if (!value) return true;\r\n      return data.label.indexOf(value) !== -1;\r\n    },\r\n    // 节点单击事件\r\n    handleNodeClick(data) {\r\n      this.queryParams.deptId = data.id;\r\n      this.handleQuery();\r\n    },\r\n    // 多选框选中数据\r\n    handleMultipleUserSelect(selection) {\r\n      this.$emit('handleUserSelect', selection);\r\n    },\r\n    // 单选框选中数据\r\n    handleSingleUserSelect(selection) {\r\n      this.radioSelected = selection.userId;//点击当前行时,radio同样有选中效果\r\n      this.$emit('handleUserSelect', selection);\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1;\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.dateRange = [];\r\n      this.resetForm(\"queryForm\");\r\n      this.queryParams.deptId = undefined;\r\n      this.$refs.tree.setCurrentKey(null);\r\n      this.handleQuery();\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style>\r\n/*隐藏radio展示的label及本身自带的样式*/\r\n/*.el-radio__label{*/\r\n/*  display:none;*/\r\n/*}*/\r\n</style>\r\n"]}]}