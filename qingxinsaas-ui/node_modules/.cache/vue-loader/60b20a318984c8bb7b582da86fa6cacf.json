{"remainingRequest":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\views\\flowable\\task\\form\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\src\\views\\flowable\\task\\form\\index.vue","mtime":1733705220550},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\chenxi\\Desktop\\pro\\QingXinSaaS\\qingxinsaas-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBsaXN0Rm9ybSwgZ2V0Rm9ybSwgZGVsRm9ybSwgYWRkRm9ybSwgdXBkYXRlRm9ybSwgZXhwb3J0Rm9ybSB9IGZyb20gIkAvYXBpL2Zsb3dhYmxlL2Zvcm0iOw0KaW1wb3J0IEVkaXRvciBmcm9tICdAL2NvbXBvbmVudHMvRWRpdG9yJzsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkZvcm0iLA0KICBjb21wb25lbnRzOiB7DQogICAgRWRpdG9yDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOmBrue9qeWxgg0KICAgICAgbG9hZGluZzogdHJ1ZSwNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgZGVzaWduZXJDb25maWc6IHsNCiAgICAgICAgZXhwb3J0Q29kZUJ1dHRvbjogZmFsc2UsICAvL+aYr+WQpuaYvuekuuWvvOWHuuS7o+eggeaMiemSrg0KICAgICAgfSwNCiAgICAgIC8vIOmAieS4reaVsOe7hA0KICAgICAgaWRzOiBbXSwNCiAgICAgIC8vIOmdnuWNleS4quemgeeUqA0KICAgICAgc2luZ2xlOiB0cnVlLA0KICAgICAgLy8g6Z2e5aSa5Liq56aB55SoDQogICAgICBtdWx0aXBsZTogdHJ1ZSwNCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tg0KICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwNCiAgICAgIC8vIOaAu+adoeaVsA0KICAgICAgdG90YWw6IDAsDQogICAgICAvLyDmtYHnqIvooajljZXooajmoLzmlbDmja4NCiAgICAgIGZvcm1MaXN0OiBbXSwNCiAgICAgIC8vIOW8ueWHuuWxguagh+mimA0KICAgICAgdGl0bGU6ICIiLA0KICAgICAgZm9ybVJlbmRlck9wZW46IGZhbHNlLA0KICAgICAgZm9ybVRpdGxlOiAiIiwNCiAgICAgIGZvcm1PcGVuOiBmYWxzZSwNCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxgg0KICAgICAgb3BlbjogZmFsc2UsDQogICAgICAvLyDmn6Xor6Llj4LmlbANCiAgICAgIHF1ZXJ5UGFyYW1zOiB7DQogICAgICAgIHBhZ2VOdW06IDEsDQogICAgICAgIHBhZ2VTaXplOiAxMCwNCiAgICAgICAgZm9ybU5hbWU6IG51bGwsDQogICAgICAgIGZvcm1Db250ZW50OiBudWxsLA0KICAgICAgfSwNCiAgICAgIC8vIOihqOWNleWPguaVsA0KICAgICAgZm9ybTogew0KICAgICAgICBmb3JtSWQ6IG51bGwsDQogICAgICAgIGZvcm1OYW1lOiBudWxsLA0KICAgICAgICBmb3JtQ29udGVudDogbnVsbCwNCiAgICAgICAgcmVtYXJrOiBudWxsDQogICAgICB9LA0KICAgICAgLy8g6KGo5Y2V5qCh6aqMDQogICAgICBydWxlczoge30sDQogICAgICBmb3JtRGF0YToge30sDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldExpc3QoKTsNCiAgfSwNCiAgYWN0aXZhdGVkKCkgew0KICAgIGNvbnN0IHRpbWUgPSB0aGlzLiRyb3V0ZS5xdWVyeS50Ow0KICAgIGlmICh0aW1lICE9IG51bGwpIHsNCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKiDmn6Xor6LmtYHnqIvooajljZXliJfooaggKi8NCiAgICBnZXRMaXN0KCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGxpc3RGb3JtKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLmZvcm1MaXN0ID0gcmVzcG9uc2Uucm93czsNCiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOw0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy8g6KGo5Y2V6YeN572uDQogICAgcmVzZXQoKSB7DQogICAgICB0aGlzLmZvcm0gPSB7DQogICAgICAgIGZvcm1JZDogbnVsbCwNCiAgICAgICAgZm9ybU5hbWU6IG51bGwsDQogICAgICAgIGZvcm1Db250ZW50OiBudWxsLA0KICAgICAgICBjcmVhdGVUaW1lOiBudWxsLA0KICAgICAgICB1cGRhdGVUaW1lOiBudWxsLA0KICAgICAgICBjcmVhdGVCeTogbnVsbCwNCiAgICAgICAgdXBkYXRlQnk6IG51bGwsDQogICAgICAgIHJlbWFyazogbnVsbA0KICAgICAgfTsNCiAgICAgIHRoaXMucmVzZXRGb3JtKCJmb3JtIik7DQogICAgfSwNCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlUXVlcnkoKSB7DQogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxOw0KICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgfSwNCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovDQogICAgcmVzZXRRdWVyeSgpIHsNCiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsNCiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsNCiAgICB9LA0KICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrg0KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsNCiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uZm9ybUlkKQ0KICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoIT09MQ0KICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoDQogICAgfSwNCiAgICAvKiog6KGo5Y2V6YWN572u5L+h5oGvICovDQogICAgaGFuZGxlRGV0YWlsKHJvdykgew0KICAgICAgdGhpcy5mb3JtUmVuZGVyT3BlbiA9IHRydWU7DQogICAgICB0aGlzLmZvcm1UaXRsZSA9ICLooajljZXor6bmg4UiOw0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAvLyDlm57mmL7mlbDmja4NCiAgICAgICAgdGhpcy4kcmVmcy52Rm9ybVJlZi5zZXRGb3JtSnNvbihKU09OLnBhcnNlKHJvdy5mb3JtQ29udGVudCkpDQogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAvLyDooajljZXnpoHnlKgNCiAgICAgICAgICB0aGlzLiRyZWZzLnZGb3JtUmVmLmRpc2FibGVGb3JtKCk7DQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLw0KICAgIGhhbmRsZUFkZCgpIHsNCiAgICAgIC8vIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvZmxvd2FibGUvdGFzay9mbG93Rm9ybS9pbmRleCd9KQ0KICAgIH0sDQogICAgLy8g5L+d5a2Y6KGo5Y2V5pWw5o2uDQogICAgc2F2ZUZvcm1Kc29uKCkgew0KICAgICAgbGV0IGZvcm1Kc29uID0gdGhpcy4kcmVmcy52ZkRlc2lnbmVyLmdldEZvcm1Kc29uKCkNCiAgICAgIHRoaXMuZm9ybS5mb3JtQ29udGVudCA9IEpTT04uc3RyaW5naWZ5KGZvcm1Kc29uKTsNCiAgICAgIHRoaXMuZm9ybU9wZW4gPSB0cnVlOw0KICAgIH0sDQogICAgLy8g5Y+W5raI5oyJ6ZKuDQogICAgY2FuY2VsKCkgew0KICAgICAgdGhpcy5mb3JtT3BlbiA9IGZhbHNlOw0KICAgICAgdGhpcy5yZXNldCgpOw0KICAgIH0sDQogICAgaGFuZGxlQ2xvc2UoZG9uZSkgew0KICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB5YWz6Zet5ZCX77yf5YWz6Zet5pyq5L+d5a2Y55qE5L+u5pS56YO95Lya5Lii5aSx77yfJywgJ+aPkOekuicsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgZG9uZSgpOw0KICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOw0KICAgIH0sDQogICAgLyoqIOS/ruaUueaMiemSruaTjeS9nCAqLw0KICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsNCiAgICAgIC8vIHRoaXMuZm9ybSA9IHJvdzsNCiAgICAgIC8vIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7DQogICAgICAvLyB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAvLyAgIC8vIOWKoOi9veihqOWNlWpzb27mlbDmja4NCiAgICAgIC8vICAgdGhpcy4kcmVmcy52ZkRlc2lnbmVyLnNldEZvcm1Kc29uKEpTT04ucGFyc2Uocm93LmZvcm1Db250ZW50KSkNCiAgICAgIC8vIH0pDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvZmxvd2FibGUvdGFzay9mbG93Rm9ybS9pbmRleCcsIHF1ZXJ5OiB7Zm9ybUlkOiByb3cuZm9ybUlkIH19KQ0KDQogICAgfSwNCiAgICAvKiog6YeN572u6KGo5Y2VICovDQogICAgcmVzZXRGb3JtRGF0YSgpIHsNCiAgICAgIHRoaXMuJHJlZnMudkZvcm1SZWYucmVzZXRGb3JtKCk7DQogICAgfSwNCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovDQogICAgc3VibWl0Rm9ybSgpIHsNCiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGlmICh0aGlzLmZvcm0uZm9ybUlkICE9IG51bGwpIHsNCiAgICAgICAgICAgIHVwZGF0ZUZvcm0odGhpcy5mb3JtKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLkv67mlLnmiJDlip8iKTsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtT3BlbiA9IGZhbHNlOw0KICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhZGRGb3JtKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7DQogICAgICAgICAgICAgIHRoaXMuZm9ybU9wZW4gPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqIOaPkOS6pOaMiemSriAqLw0KICAgIHN1Ym1pdEZvcm1EYXRhKCkgew0KICAgICAgdGhpcy4kcmVmcy52Rm9ybVJlZi5nZXRGb3JtRGF0YSgpLnRoZW4oZm9ybURhdGEgPT4gew0KICAgICAgICAvLyBGb3JtIFZhbGlkYXRpb24gT0sNCiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpKQ0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAvLyBGb3JtIFZhbGlkYXRpb24gZmFpbGVkDQogICAgICAgIHRoaXMuJG1vZGFsLm1zZ0Vycm9yKGVycm9yKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8NCiAgICBoYW5kbGVEZWxldGUocm93KSB7DQogICAgICBjb25zdCBmb3JtSWRzID0gcm93LmZvcm1JZCB8fCB0aGlzLmlkczsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOihqOWNlee8luWPt+S4uiInICsgZm9ybUlkcyArICci55qE5pWw5o2u6aG5PycsICLorablkYoiLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgIHR5cGU6ICJ3YXJuaW5nIg0KICAgICAgfSkudGhlbihmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIGRlbEZvcm0oZm9ybUlkcyk7DQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5nZXRMaXN0KCk7DQogICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7DQogICAgICB9KQ0KICAgIH0sDQogIH0NCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/flowable/task/form","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n      <el-form-item label=\"表单名称\" prop=\"formName\">\r\n        <el-input\r\n          v-model=\"queryParams.formName\"\r\n          placeholder=\"请输入表单名称\"\r\n          clearable\r\n          size=\"small\"\r\n          @keyup.enter.native=\"handleQuery\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"primary\"\r\n          plain\r\n          icon=\"el-icon-plus\"\r\n          size=\"mini\"\r\n          @click=\"handleAdd\"\r\n        >新增</el-button>\r\n      </el-col>\r\n      <el-col :span=\"1.5\">\r\n        <el-button\r\n          type=\"danger\"\r\n          plain\r\n          icon=\"el-icon-delete\"\r\n          size=\"mini\"\r\n          :disabled=\"multiple\"\r\n          @click=\"handleDelete\"\r\n          v-hasPermi=\"['flowable:form:remove']\"\r\n        >删除</el-button>\r\n      </el-col>\r\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <el-table v-loading=\"loading\" :data=\"formList\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n      <el-table-column label=\"表单主键\" align=\"center\" prop=\"formId\" />\r\n      <el-table-column label=\"表单名称\" align=\"center\" prop=\"formName\" />\r\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" />\r\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"text\"\r\n            icon=\"el-icon-view\"\r\n            @click=\"handleDetail(scope.row)\"\r\n          >详情</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"text\"\r\n            icon=\"el-icon-edit\"\r\n            @click=\"handleUpdate(scope.row)\"\r\n            v-hasPermi=\"['flowable:form:edit']\"\r\n          >修改</el-button>\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"text\"\r\n            icon=\"el-icon-delete\"\r\n            @click=\"handleDelete(scope.row)\"\r\n            v-hasPermi=\"['flowable:form:remove']\"\r\n          >删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <pagination\r\n      v-show=\"total>0\"\r\n      :total=\"total\"\r\n      :page.sync=\"queryParams.pageNum\"\r\n      :limit.sync=\"queryParams.pageSize\"\r\n      @pagination=\"getList\"\r\n    />\r\n\r\n    <!-- 添加或修改流程表单对话框 -->\r\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"表单名称\" prop=\"formName\">\r\n          <el-input v-model=\"form.formName\" placeholder=\"请输入表单名称\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"表单内容\">\r\n          <editor v-model=\"form.formContent\" :min-height=\"192\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input v-model=\"form.remark\" placeholder=\"请输入备注\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!--表单详情-->\r\n    <el-dialog :title=\"formTitle\" :visible.sync=\"formRenderOpen\" width=\"60%\" append-to-body>\r\n        <v-form-render :form-data=\"formData\" ref=\"vFormRef\"/>\r\n    </el-dialog>\r\n\r\n    <!--表单设计器-->\r\n    <el-dialog\r\n      custom-class=\"dialogClass\"\r\n      :visible.sync=\"dialogVisible\"\r\n      :close-on-press-escape=\"false\"\r\n      :fullscreen=true\r\n      :before-close=\"handleClose\"\r\n      append-to-body>\r\n      <v-form-designer ref=\"vfDesigner\" :designer-config=\"designerConfig\">\r\n        <!-- 自定义按钮插槽演示 -->\r\n        <template #customSaveButton>\r\n          <el-button type=\"text\" @click=\"saveFormJson\"><i class=\"el-icon-s-promotion\" />保存</el-button>\r\n        </template>\r\n      </v-form-designer>\r\n    </el-dialog>\r\n\r\n    <!--系统表单信息-->\r\n    <el-dialog :title=\"formTitle\" :visible.sync=\"formOpen\" width=\"500px\" append-to-body>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"表单名称\" prop=\"formName\">\r\n          <el-input v-model=\"form.formName\" placeholder=\"请输入表单名称\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"remark\">\r\n          <el-input v-model=\"form.remark\" placeholder=\"请输入备注\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listForm, getForm, delForm, addForm, updateForm, exportForm } from \"@/api/flowable/form\";\r\nimport Editor from '@/components/Editor';\r\nexport default {\r\n  name: \"Form\",\r\n  components: {\r\n    Editor\r\n  },\r\n  data() {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      dialogVisible: false,\r\n      designerConfig: {\r\n        exportCodeButton: false,  //是否显示导出代码按钮\r\n      },\r\n      // 选中数组\r\n      ids: [],\r\n      // 非单个禁用\r\n      single: true,\r\n      // 非多个禁用\r\n      multiple: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 流程表单表格数据\r\n      formList: [],\r\n      // 弹出层标题\r\n      title: \"\",\r\n      formRenderOpen: false,\r\n      formTitle: \"\",\r\n      formOpen: false,\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        formName: null,\r\n        formContent: null,\r\n      },\r\n      // 表单参数\r\n      form: {\r\n        formId: null,\r\n        formName: null,\r\n        formContent: null,\r\n        remark: null\r\n      },\r\n      // 表单校验\r\n      rules: {},\r\n      formData: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n  },\r\n  activated() {\r\n    const time = this.$route.query.t;\r\n    if (time != null) {\r\n      this.getList();\r\n    }\r\n  },\r\n  methods: {\r\n    /** 查询流程表单列表 */\r\n    getList() {\r\n      this.loading = true;\r\n      listForm(this.queryParams).then(response => {\r\n        this.formList = response.rows;\r\n        this.total = response.total;\r\n        this.loading = false;\r\n      });\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {\r\n        formId: null,\r\n        formName: null,\r\n        formContent: null,\r\n        createTime: null,\r\n        updateTime: null,\r\n        createBy: null,\r\n        updateBy: null,\r\n        remark: null\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1;\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.resetForm(\"queryForm\");\r\n      this.handleQuery();\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange(selection) {\r\n      this.ids = selection.map(item => item.formId)\r\n      this.single = selection.length!==1\r\n      this.multiple = !selection.length\r\n    },\r\n    /** 表单配置信息 */\r\n    handleDetail(row) {\r\n      this.formRenderOpen = true;\r\n      this.formTitle = \"表单详情\";\r\n      this.$nextTick(() => {\r\n        // 回显数据\r\n        this.$refs.vFormRef.setFormJson(JSON.parse(row.formContent))\r\n        this.$nextTick(() => {\r\n          // 表单禁用\r\n          this.$refs.vFormRef.disableForm();\r\n        })\r\n      })\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd() {\r\n      // this.dialogVisible = true;\r\n      this.$router.push({ path: '/flowable/task/flowForm/index'})\r\n    },\r\n    // 保存表单数据\r\n    saveFormJson() {\r\n      let formJson = this.$refs.vfDesigner.getFormJson()\r\n      this.form.formContent = JSON.stringify(formJson);\r\n      this.formOpen = true;\r\n    },\r\n    // 取消按钮\r\n    cancel() {\r\n      this.formOpen = false;\r\n      this.reset();\r\n    },\r\n    handleClose(done) {\r\n      this.$confirm('确定要关闭吗？关闭未保存的修改都会丢失？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        done();\r\n      }).catch(() => {});\r\n    },\r\n    /** 修改按钮操作 */\r\n    handleUpdate(row) {\r\n      // this.form = row;\r\n      // this.dialogVisible = true;\r\n      // this.$nextTick(() => {\r\n      //   // 加载表单json数据\r\n      //   this.$refs.vfDesigner.setFormJson(JSON.parse(row.formContent))\r\n      // })\r\n      this.$router.push({ path: '/flowable/task/flowForm/index', query: {formId: row.formId }})\r\n\r\n    },\r\n    /** 重置表单 */\r\n    resetFormData() {\r\n      this.$refs.vFormRef.resetForm();\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm() {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          if (this.form.formId != null) {\r\n            updateForm(this.form).then(response => {\r\n             this.$modal.msgSuccess(\"修改成功\");\r\n              this.formOpen = false;\r\n              this.getList();\r\n            });\r\n          } else {\r\n            addForm(this.form).then(response => {\r\n             this.$modal.msgSuccess(\"新增成功\");\r\n              this.formOpen = false;\r\n              this.getList();\r\n            });\r\n          }\r\n          this.dialogVisible = false;\r\n        }\r\n      });\r\n    },\r\n    /** 提交按钮 */\r\n    submitFormData() {\r\n      this.$refs.vFormRef.getFormData().then(formData => {\r\n        // Form Validation OK\r\n        console.log(JSON.stringify(formData))\r\n      }).catch(error => {\r\n        // Form Validation failed\r\n        this.$modal.msgError(error)\r\n      })\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete(row) {\r\n      const formIds = row.formId || this.ids;\r\n      this.$confirm('是否确认删除表单编号为\"' + formIds + '\"的数据项?', \"警告\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(function() {\r\n        return delForm(formIds);\r\n      }).then(() => {\r\n        this.getList();\r\n       this.$modal.msgSuccess(\"删除成功\");\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.test-form {\r\n  margin: 15px auto;\r\n  width: 800px;\r\n  padding: 15px;\r\n}\r\n/deep/ .dialogClass .el-dialog__header {\r\n  padding: 0;\r\n}\r\n/deep/ .dialogClass .el-dialog__body {\r\n  padding: 0;\r\n}\r\n</style>\r\n"]}]}